<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/detect-port-alt/README.md";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h2">
        <a href="#usage">Usage</a>
      </div>

      <div class="heading h2">
        <a href="#command-line-tool">Command Line Tool</a>
      </div>

      <div class="heading h3">
        <a href="#quick-start">Quick Start</a>
      </div>

      <div class="heading h2">
        <a href="#authors">Authors</a>
      </div>

      <div class="heading h2">
        <a href="#license">License</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><p><a href="https://npmjs.org/package/detect-port"><img src="./logo.png" alt="logo"></a></p>
<hr>
<p><a href="https://npmjs.org/package/detect-port"><img src="https://img.shields.io/npm/v/detect-port.svg?style=flat-square" alt="NPM version"></a>
<a href="https://travis-ci.org/node-modules/detect-port"><img src="https://img.shields.io/travis/node-modules/detect-port.svg?style=flat-square" alt="build status"></a>
<a href="https://codecov.io/gh/node-modules/detect-port"><img src="https://codecov.io/gh/node-modules/detect-port/branch/master/graph/badge.svg" alt="Test coverage"></a>
<a href="https://npmjs.org/package/detect-port"><img src="https://img.shields.io/npm/dm/detect-port.svg?style=flat-square" alt="npm download"></a></p>
<blockquote>
<p>JavaScript Implementation of Port Detector</p>
</blockquote>
<div class="pilwrap" id="usage">
  <h2>
    <a href="#usage" name="usage" class="pilcrow"></a>
Usage
  </h2>
</div>
<pre><code class="bash">$ npm i detect-port --save
</code></pre>
<pre><code class="js"><span class="hljs-keyword">const</span> detect = <span class="hljs-built_in">require</span>(<span class="hljs-string">'detect-port'</span>);

<span class="hljs-comment">/**
 * callback usage
 */</span>

detect(port, (err, _port) =&gt; {
  <span class="hljs-keyword">if</span> (err) {
    <span class="hljs-built_in">console</span>.log(err);
  }

  <span class="hljs-keyword">if</span> (port == _port) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`port: <span class="hljs-subst">${port}</span> was not occupied`</span>);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`port: <span class="hljs-subst">${port}</span> was occupied, try port: <span class="hljs-subst">${_port}</span>`</span>);
  }
});

<span class="hljs-comment">/**
 * for a yield syntax instead of callback function implement
 */</span>

<span class="hljs-keyword">const</span> co = <span class="hljs-built_in">require</span>(<span class="hljs-string">'co'</span>);

co(<span class="hljs-function"><span class="hljs-keyword">function</span> *(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> _port = <span class="hljs-keyword">yield</span> detect(port);

  <span class="hljs-keyword">if</span> (port == _port) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`port: <span class="hljs-subst">${port}</span> was not occupied`</span>);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`port: <span class="hljs-subst">${port}</span> was occupied, try port: <span class="hljs-subst">${_port}</span>`</span>);
  }
});

<span class="hljs-comment">/**
 * use as a promise
 */</span>

detect(port)
  .then(<span class="hljs-function"><span class="hljs-params">_port</span> =&gt;</span> {
    <span class="hljs-keyword">if</span> (port == _port) {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`port: <span class="hljs-subst">${port}</span> was not occupied`</span>);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`port: <span class="hljs-subst">${port}</span> was occupied, try port: <span class="hljs-subst">${_port}</span>`</span>);
    }
  })
  .catch(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(err);
  });

</code></pre>
<div class="pilwrap" id="command-line-tool">
  <h2>
    <a href="#command-line-tool" name="command-line-tool" class="pilcrow"></a>
Command Line Tool
  </h2>
</div>
<pre><code class="shell"><span class="hljs-meta">$</span><span class="bash"> npm i detect-port -g</span>
</code></pre>
<div class="pilwrap" id="quick-start">
  <h3>
    <a href="#quick-start" name="quick-start" class="pilcrow"></a>
Quick Start
  </h3>
</div>
<pre><code class="shell"><span class="hljs-meta">#</span><span class="bash"> get an available port randomly</span>
<span class="hljs-meta">$</span><span class="bash"> detect</span>
<span class="hljs-meta">
#</span><span class="bash"> detect pointed port</span>
<span class="hljs-meta">$</span><span class="bash"> detect 80</span>
<span class="hljs-meta">
#</span><span class="bash"> more <span class="hljs-built_in">help</span></span>
<span class="hljs-meta">$</span><span class="bash"> detect --<span class="hljs-built_in">help</span></span>
</code></pre>
<div class="pilwrap" id="authors">
  <h2>
    <a href="#authors" name="authors" class="pilcrow"></a>
Authors
  </h2>
</div>
<ul>
<li><a href="//github.com/xudafeng">xudafeng</a></li>
<li><a href="//github.com/zenzhu">zenzhu</a></li>
</ul>
<div class="pilwrap" id="license">
  <h2>
    <a href="#license" name="license" class="pilcrow"></a>
License
  </h2>
</div>
<p><a href="LICENSE.html">MIT</a></p>
</div>
  </div>
</body>
</html>
