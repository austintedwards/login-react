<!DOCTYPE html>
<html>
<head>
  <title>escodegen.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/escodegen/escodegen.js";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>escodegen.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>
<div class="dox">
<div class="summary">
<p>Copyright (C) 2012-2014 Yusuke Suzuki <a href="mailto:utatane.tea@gmail.com.html">utatane.tea@gmail.com</a>
Copyright (C) 2015 Ingvar Stepanyan <a href="mailto:me@rreverser.com.html">me@rreverser.com</a>
Copyright (C) 2014 Ivan Nikulin <a href="mailto:ifaaan@gmail.com.html">ifaaan@gmail.com</a>
Copyright (C) 2012-2013 Michael Ficarra <a href="mailto:escodegen.copyright@michael.ficarra.me.html">escodegen.copyright@michael.ficarra.me</a>
Copyright (C) 2012-2013 Mathias Bynens <a href="mailto:mathias@qiwi.be.html">mathias@qiwi.be</a>
Copyright (C) 2013 Irakli Gozalishvili <a href="mailto:rfobic@gmail.com.html">rfobic@gmail.com</a>
Copyright (C) 2012 Robert Gust-Bardon <a href="mailto:donate@robert.gust-bardon.org.html">donate@robert.gust-bardon.org</a>
Copyright (C) 2012 John Freeman <a href="mailto:jfreeman08@gmail.com.html">jfreeman08@gmail.com</a>
Copyright (C) 2011-2012 Ariya Hidayat <a href="mailto:ariya.hidayat@gmail.com.html">ariya.hidayat@gmail.com</a>
Copyright (C) 2012 Joost-Wim Boekesteijn <a href="mailto:joost-wim@boekesteijn.nl.html">joost-wim@boekesteijn.nl</a>
Copyright (C) 2012 Kris Kowal <a href="mailto:kris.kowal@cixar.com.html">kris.kowal@cixar.com</a>
Copyright (C) 2012 Arpad Borsos <a href="mailto:arpad.borsos@googlemail.com.html">arpad.borsos@googlemail.com</a></p>
</div>
<div class="body">
<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:</p>
<p>Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer.
Redistributions in binary form must reproduce the above copyright
notice, this list of conditions and the following disclaimer in the
documentation and/or other materials provided with the distribution.</p>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY
DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-comment">/*global exports:true, require:true, global:true*/</span>
(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">    'use strict'</span>;

    <span class="hljs-keyword">var</span> Syntax,
        Precedence,
        BinaryPrecedence,
        SourceNode,
        estraverse,
        esutils,
        isArray,
        base,
        indent,
        json,
        renumber,
        hexadecimal,
        quotes,
        escapeless,
        newline,
        space,
        parentheses,
        semicolons,
        safeConcatenation,
        directive,
        extra,
        parse,
        sourceMap,
        sourceCode,
        preserveBlankLines,
        FORMAT_MINIFY,
        FORMAT_DEFAULTS;

    estraverse = <span class="hljs-built_in">require</span>(<span class="hljs-string">'estraverse'</span>);
    esutils = <span class="hljs-built_in">require</span>(<span class="hljs-string">'esutils'</span>);

    Syntax = estraverse.Syntax;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<p>Generation is done by generateExpression.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isExpression</span>(<span class="hljs-params">node</span>) </span>{
        <span class="hljs-keyword">return</span> CodeGenerator.Expression.hasOwnProperty(node.type);
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<p>Generation is done by generateStatement.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isStatement</span>(<span class="hljs-params">node</span>) </span>{
        <span class="hljs-keyword">return</span> CodeGenerator.Statement.hasOwnProperty(node.type);
    }

    Precedence = {
        <span class="hljs-attr">Sequence</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">Yield</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">Await</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">Assignment</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">Conditional</span>: <span class="hljs-number">2</span>,
        <span class="hljs-attr">ArrowFunction</span>: <span class="hljs-number">2</span>,
        <span class="hljs-attr">LogicalOR</span>: <span class="hljs-number">3</span>,
        <span class="hljs-attr">LogicalAND</span>: <span class="hljs-number">4</span>,
        <span class="hljs-attr">BitwiseOR</span>: <span class="hljs-number">5</span>,
        <span class="hljs-attr">BitwiseXOR</span>: <span class="hljs-number">6</span>,
        <span class="hljs-attr">BitwiseAND</span>: <span class="hljs-number">7</span>,
        <span class="hljs-attr">Equality</span>: <span class="hljs-number">8</span>,
        <span class="hljs-attr">Relational</span>: <span class="hljs-number">9</span>,
        <span class="hljs-attr">BitwiseSHIFT</span>: <span class="hljs-number">10</span>,
        <span class="hljs-attr">Additive</span>: <span class="hljs-number">11</span>,
        <span class="hljs-attr">Multiplicative</span>: <span class="hljs-number">12</span>,
        <span class="hljs-attr">Unary</span>: <span class="hljs-number">13</span>,
        <span class="hljs-attr">Postfix</span>: <span class="hljs-number">14</span>,
        <span class="hljs-attr">Call</span>: <span class="hljs-number">15</span>,
        <span class="hljs-attr">New</span>: <span class="hljs-number">16</span>,
        <span class="hljs-attr">TaggedTemplate</span>: <span class="hljs-number">17</span>,
        <span class="hljs-attr">Member</span>: <span class="hljs-number">18</span>,
        <span class="hljs-attr">Primary</span>: <span class="hljs-number">19</span>
    };

    BinaryPrecedence = {
        <span class="hljs-string">'||'</span>: Precedence.LogicalOR,
        <span class="hljs-string">'&amp;&amp;'</span>: Precedence.LogicalAND,
        <span class="hljs-string">'|'</span>: Precedence.BitwiseOR,
        <span class="hljs-string">'^'</span>: Precedence.BitwiseXOR,
        <span class="hljs-string">'&amp;'</span>: Precedence.BitwiseAND,
        <span class="hljs-string">'=='</span>: Precedence.Equality,
        <span class="hljs-string">'!='</span>: Precedence.Equality,
        <span class="hljs-string">'==='</span>: Precedence.Equality,
        <span class="hljs-string">'!=='</span>: Precedence.Equality,
        <span class="hljs-string">'is'</span>: Precedence.Equality,
        <span class="hljs-string">'isnt'</span>: Precedence.Equality,
        <span class="hljs-string">'&lt;'</span>: Precedence.Relational,
        <span class="hljs-string">'&gt;'</span>: Precedence.Relational,
        <span class="hljs-string">'&lt;='</span>: Precedence.Relational,
        <span class="hljs-string">'&gt;='</span>: Precedence.Relational,
        <span class="hljs-string">'in'</span>: Precedence.Relational,
        <span class="hljs-string">'instanceof'</span>: Precedence.Relational,
        <span class="hljs-string">'&lt;&lt;'</span>: Precedence.BitwiseSHIFT,
        <span class="hljs-string">'&gt;&gt;'</span>: Precedence.BitwiseSHIFT,
        <span class="hljs-string">'&gt;&gt;&gt;'</span>: Precedence.BitwiseSHIFT,
        <span class="hljs-string">'+'</span>: Precedence.Additive,
        <span class="hljs-string">'-'</span>: Precedence.Additive,
        <span class="hljs-string">'*'</span>: Precedence.Multiplicative,
        <span class="hljs-string">'%'</span>: Precedence.Multiplicative,
        <span class="hljs-string">'/'</span>: Precedence.Multiplicative
    };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<p>Flags</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> F_ALLOW_IN = <span class="hljs-number">1</span>,
        F_ALLOW_CALL = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">1</span>,
        F_ALLOW_UNPARATH_NEW = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">2</span>,
        F_FUNC_BODY = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">3</span>,
        F_DIRECTIVE_CTX = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">4</span>,
        F_SEMICOLON_OPT = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">5</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<p>Expression flag sets
NOTE: Flag order:
F_ALLOW_IN
F_ALLOW_CALL
F_ALLOW_UNPARATH_NEW</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> E_FTT = F_ALLOW_CALL | F_ALLOW_UNPARATH_NEW,
        E_TTF = F_ALLOW_IN | F_ALLOW_CALL,
        E_TTT = F_ALLOW_IN | F_ALLOW_CALL | F_ALLOW_UNPARATH_NEW,
        E_TFF = F_ALLOW_IN,
        E_FFT = F_ALLOW_UNPARATH_NEW,
        E_TFT = F_ALLOW_IN | F_ALLOW_UNPARATH_NEW;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p>Statement flag sets
NOTE: Flag order:
F_ALLOW_IN
F_FUNC_BODY
F_DIRECTIVE_CTX
F_SEMICOLON_OPT</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> S_TFFF = F_ALLOW_IN,
        S_TFFT = F_ALLOW_IN | F_SEMICOLON_OPT,
        S_FFFF = <span class="hljs-number">0x00</span>,
        S_TFTF = F_ALLOW_IN | F_DIRECTIVE_CTX,
        S_TTFF = F_ALLOW_IN | F_FUNC_BODY;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDefaultOptions</span>(<span class="hljs-params"></span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>default options</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">indent</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">base</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">parse</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">comment</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">format</span>: {
                <span class="hljs-attr">indent</span>: {
                    <span class="hljs-attr">style</span>: <span class="hljs-string">'    '</span>,
                    <span class="hljs-attr">base</span>: <span class="hljs-number">0</span>,
                    <span class="hljs-attr">adjustMultilineComment</span>: <span class="hljs-literal">false</span>
                },
                <span class="hljs-attr">newline</span>: <span class="hljs-string">'\n'</span>,
                <span class="hljs-attr">space</span>: <span class="hljs-string">' '</span>,
                <span class="hljs-attr">json</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-attr">renumber</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-attr">hexadecimal</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-attr">quotes</span>: <span class="hljs-string">'single'</span>,
                <span class="hljs-attr">escapeless</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-attr">compact</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-attr">parentheses</span>: <span class="hljs-literal">true</span>,
                <span class="hljs-attr">semicolons</span>: <span class="hljs-literal">true</span>,
                <span class="hljs-attr">safeConcatenation</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-attr">preserveBlankLines</span>: <span class="hljs-literal">false</span>
            },
            <span class="hljs-attr">moz</span>: {
                <span class="hljs-attr">comprehensionExpressionStartsWithAssignment</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-attr">starlessGenerator</span>: <span class="hljs-literal">false</span>
            },
            <span class="hljs-attr">sourceMap</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">sourceMapRoot</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">sourceMapWithCode</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">directive</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">raw</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">verbatim</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">sourceCode</span>: <span class="hljs-literal">null</span>
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">stringRepeat</span>(<span class="hljs-params">str, num</span>) </span>{
        <span class="hljs-keyword">var</span> result = <span class="hljs-string">''</span>;

        <span class="hljs-keyword">for</span> (num |= <span class="hljs-number">0</span>; num &gt; <span class="hljs-number">0</span>; num &gt;&gt;&gt;= <span class="hljs-number">1</span>, str += str) {
            <span class="hljs-keyword">if</span> (num &amp; <span class="hljs-number">1</span>) {
                result += str;
            }
        }

        <span class="hljs-keyword">return</span> result;
    }

    isArray = <span class="hljs-built_in">Array</span>.isArray;
    <span class="hljs-keyword">if</span> (!isArray) {
        isArray = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isArray</span>(<span class="hljs-params">array</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.prototype.toString.call(array) === <span class="hljs-string">'[object Array]'</span>;
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasLineTerminator</span>(<span class="hljs-params">str</span>) </span>{
        <span class="hljs-keyword">return</span> (<span class="hljs-regexp">/[\r\n]/g</span>).test(str);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">endsWithLineTerminator</span>(<span class="hljs-params">str</span>) </span>{
        <span class="hljs-keyword">var</span> len = str.length;
        <span class="hljs-keyword">return</span> len &amp;&amp; esutils.code.isLineTerminator(str.charCodeAt(len - <span class="hljs-number">1</span>));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">merge</span>(<span class="hljs-params">target, override</span>) </span>{
        <span class="hljs-keyword">var</span> key;
        <span class="hljs-keyword">for</span> (key <span class="hljs-keyword">in</span> override) {
            <span class="hljs-keyword">if</span> (override.hasOwnProperty(key)) {
                target[key] = override[key];
            }
        }
        <span class="hljs-keyword">return</span> target;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateDeeply</span>(<span class="hljs-params">target, override</span>) </span>{
        <span class="hljs-keyword">var</span> key, val;

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isHashObject</span>(<span class="hljs-params">target</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> target === <span class="hljs-string">'object'</span> &amp;&amp; target <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Object</span> &amp;&amp; !(target <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">RegExp</span>);
        }

        <span class="hljs-keyword">for</span> (key <span class="hljs-keyword">in</span> override) {
            <span class="hljs-keyword">if</span> (override.hasOwnProperty(key)) {
                val = override[key];
                <span class="hljs-keyword">if</span> (isHashObject(val)) {
                    <span class="hljs-keyword">if</span> (isHashObject(target[key])) {
                        updateDeeply(target[key], val);
                    } <span class="hljs-keyword">else</span> {
                        target[key] = updateDeeply({}, val);
                    }
                } <span class="hljs-keyword">else</span> {
                    target[key] = val;
                }
            }
        }
        <span class="hljs-keyword">return</span> target;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateNumber</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">var</span> result, point, temp, exponent, pos;

        <span class="hljs-keyword">if</span> (value !== value) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Numeric literal whose value is NaN'</span>);
        }
        <span class="hljs-keyword">if</span> (value &lt; <span class="hljs-number">0</span> || (value === <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-number">1</span> / value &lt; <span class="hljs-number">0</span>)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Numeric literal whose value is negative'</span>);
        }

        <span class="hljs-keyword">if</span> (value === <span class="hljs-number">1</span> / <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> json ? <span class="hljs-string">'null'</span> : renumber ? <span class="hljs-string">'1e400'</span> : <span class="hljs-string">'1e+400'</span>;
        }

        result = <span class="hljs-string">''</span> + value;
        <span class="hljs-keyword">if</span> (!renumber || result.length &lt; <span class="hljs-number">3</span>) {
            <span class="hljs-keyword">return</span> result;
        }

        point = result.indexOf(<span class="hljs-string">'.'</span>);
        <span class="hljs-keyword">if</span> (!json &amp;&amp; result.charCodeAt(<span class="hljs-number">0</span>) === <span class="hljs-number">0x30</span>  <span class="hljs-comment">/* 0 */</span> &amp;&amp; point === <span class="hljs-number">1</span>) {
            point = <span class="hljs-number">0</span>;
            result = result.slice(<span class="hljs-number">1</span>);
        }
        temp = result;
        result = result.replace(<span class="hljs-string">'e+'</span>, <span class="hljs-string">'e'</span>);
        exponent = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> ((pos = temp.indexOf(<span class="hljs-string">'e'</span>)) &gt; <span class="hljs-number">0</span>) {
            exponent = +temp.slice(pos + <span class="hljs-number">1</span>);
            temp = temp.slice(<span class="hljs-number">0</span>, pos);
        }
        <span class="hljs-keyword">if</span> (point &gt;= <span class="hljs-number">0</span>) {
            exponent -= temp.length - point - <span class="hljs-number">1</span>;
            temp = +(temp.slice(<span class="hljs-number">0</span>, point) + temp.slice(point + <span class="hljs-number">1</span>)) + <span class="hljs-string">''</span>;
        }
        pos = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">while</span> (temp.charCodeAt(temp.length + pos - <span class="hljs-number">1</span>) === <span class="hljs-number">0x30</span>  <span class="hljs-comment">/* 0 */</span>) {
            --pos;
        }
        <span class="hljs-keyword">if</span> (pos !== <span class="hljs-number">0</span>) {
            exponent -= pos;
            temp = temp.slice(<span class="hljs-number">0</span>, pos);
        }
        <span class="hljs-keyword">if</span> (exponent !== <span class="hljs-number">0</span>) {
            temp += <span class="hljs-string">'e'</span> + exponent;
        }
        <span class="hljs-keyword">if</span> ((temp.length &lt; result.length ||
                    (hexadecimal &amp;&amp; value &gt; <span class="hljs-number">1e12</span> &amp;&amp; <span class="hljs-built_in">Math</span>.floor(value) === value &amp;&amp; (temp = <span class="hljs-string">'0x'</span> + value.toString(<span class="hljs-number">16</span>)).length &lt; result.length)) &amp;&amp;
                +temp === value) {
            result = temp;
        }

        <span class="hljs-keyword">return</span> result;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<p>Generate valid RegExp expression.
This function is based on https://github.com/Constellation/iv Engine</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">escapeRegExpCharacter</span>(<span class="hljs-params">ch, previousIsBackslash</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<p>not handling '' and handling \u2028 or \u2029 to unicode escape sequence</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> ((ch &amp; ~<span class="hljs-number">1</span>) === <span class="hljs-number">0x2028</span>) {
            <span class="hljs-keyword">return</span> (previousIsBackslash ? <span class="hljs-string">'u'</span> : <span class="hljs-string">'\\u'</span>) + ((ch === <span class="hljs-number">0x2028</span>) ? <span class="hljs-string">'2028'</span> : <span class="hljs-string">'2029'</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">10</span> || ch === <span class="hljs-number">13</span>) {  <span class="hljs-comment">// \n, \r</span>
            <span class="hljs-keyword">return</span> (previousIsBackslash ? <span class="hljs-string">''</span> : <span class="hljs-string">'\\'</span>) + ((ch === <span class="hljs-number">10</span>) ? <span class="hljs-string">'n'</span> : <span class="hljs-string">'r'</span>);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">String</span>.fromCharCode(ch);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateRegExp</span>(<span class="hljs-params">reg</span>) </span>{
        <span class="hljs-keyword">var</span> match, result, flags, i, iz, ch, characterInBrack, previousIsBackslash;

        result = reg.toString();

        <span class="hljs-keyword">if</span> (reg.source) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>extract flag from toString result</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            match = result.match(<span class="hljs-regexp">/\/([^/]*)$/</span>);
            <span class="hljs-keyword">if</span> (!match) {
                <span class="hljs-keyword">return</span> result;
            }

            flags = match[<span class="hljs-number">1</span>];
            result = <span class="hljs-string">''</span>;

            characterInBrack = <span class="hljs-literal">false</span>;
            previousIsBackslash = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, iz = reg.source.length; i &lt; iz; ++i) {
                ch = reg.source.charCodeAt(i);

                <span class="hljs-keyword">if</span> (!previousIsBackslash) {
                    <span class="hljs-keyword">if</span> (characterInBrack) {
                        <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">93</span>) {  <span class="hljs-comment">// ]</span>
                            characterInBrack = <span class="hljs-literal">false</span>;
                        }
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">47</span>) {  <span class="hljs-comment">// /</span>
                            result += <span class="hljs-string">'\\'</span>;
                        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch === <span class="hljs-number">91</span>) {  <span class="hljs-comment">// [</span>
                            characterInBrack = <span class="hljs-literal">true</span>;
                        }
                    }
                    result += escapeRegExpCharacter(ch, previousIsBackslash);
                    previousIsBackslash = ch === <span class="hljs-number">92</span>;  <span class="hljs-comment">// \</span>
                } <span class="hljs-keyword">else</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<p>if new RegExp(&quot;\\n') is provided, create /\n/</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                    result += escapeRegExpCharacter(ch, previousIsBackslash);
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<p>prevent like /\[/]/</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                    previousIsBackslash = <span class="hljs-literal">false</span>;
                }
            }

            <span class="hljs-keyword">return</span> <span class="hljs-string">'/'</span> + result + <span class="hljs-string">'/'</span> + flags;
        }

        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">escapeAllowedCharacter</span>(<span class="hljs-params">code, next</span>) </span>{
        <span class="hljs-keyword">var</span> hex;

        <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x08</span>  <span class="hljs-comment">/* \b */</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'\\b'</span>;
        }

        <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x0C</span>  <span class="hljs-comment">/* \f */</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'\\f'</span>;
        }

        <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x09</span>  <span class="hljs-comment">/* \t */</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'\\t'</span>;
        }

        hex = code.toString(<span class="hljs-number">16</span>).toUpperCase();
        <span class="hljs-keyword">if</span> (json || code &gt; <span class="hljs-number">0xFF</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'\\u'</span> + <span class="hljs-string">'0000'</span>.slice(hex.length) + hex;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x0000</span> &amp;&amp; !esutils.code.isDecimalDigit(next)) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'\\0'</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x000B</span>  <span class="hljs-comment">/* \v */</span>) { <span class="hljs-comment">// '\v'</span>
            <span class="hljs-keyword">return</span> <span class="hljs-string">'\\x0B'</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'\\x'</span> + <span class="hljs-string">'00'</span>.slice(hex.length) + hex;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">escapeDisallowedCharacter</span>(<span class="hljs-params">code</span>) </span>{
        <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x5C</span>  <span class="hljs-comment">/* \ */</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'\\\\'</span>;
        }

        <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x0A</span>  <span class="hljs-comment">/* \n */</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'\\n'</span>;
        }

        <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x0D</span>  <span class="hljs-comment">/* \r */</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'\\r'</span>;
        }

        <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x2028</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'\\u2028'</span>;
        }

        <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x2029</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'\\u2029'</span>;
        }

        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Incorrectly classified character'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">escapeDirective</span>(<span class="hljs-params">str</span>) </span>{
        <span class="hljs-keyword">var</span> i, iz, code, quote;

        quote = quotes === <span class="hljs-string">'double'</span> ? <span class="hljs-string">'"'</span> : <span class="hljs-string">'\''</span>;
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, iz = str.length; i &lt; iz; ++i) {
            code = str.charCodeAt(i);
            <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x27</span>  <span class="hljs-comment">/* ' */</span>) {
                quote = <span class="hljs-string">'"'</span>;
                <span class="hljs-keyword">break</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x22</span>  <span class="hljs-comment">/* " */</span>) {
                quote = <span class="hljs-string">'\''</span>;
                <span class="hljs-keyword">break</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x5C</span>  <span class="hljs-comment">/* \ */</span>) {
                ++i;
            }
        }

        <span class="hljs-keyword">return</span> quote + str + quote;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">escapeString</span>(<span class="hljs-params">str</span>) </span>{
        <span class="hljs-keyword">var</span> result = <span class="hljs-string">''</span>, i, len, code, singleQuotes = <span class="hljs-number">0</span>, doubleQuotes = <span class="hljs-number">0</span>, single, quote;

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = str.length; i &lt; len; ++i) {
            code = str.charCodeAt(i);
            <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x27</span>  <span class="hljs-comment">/* ' */</span>) {
                ++singleQuotes;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0x22</span>  <span class="hljs-comment">/* " */</span>) {
                ++doubleQuotes;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<div class="dox">
<div class="summary">
<p>} else if (code === 0x2F     /    &amp;&amp; json) {
result += '\';
} else if (esutils.code.isLineTerminator(code) || code === 0x5C  /* \ */) {</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">                result += escapeDisallowedCharacter(code);
                <span class="hljs-keyword">continue</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!esutils.code.isIdentifierPartES5(code) &amp;&amp; (json &amp;&amp; code &lt; <span class="hljs-number">0x20</span>  <span class="hljs-comment">/* SP */</span> || !json &amp;&amp; !escapeless &amp;&amp; (code &lt; <span class="hljs-number">0x20</span>  <span class="hljs-comment">/* SP */</span> || code &gt; <span class="hljs-number">0x7E</span>  <span class="hljs-comment">/* ~ */</span>))) {
                result += escapeAllowedCharacter(code, str.charCodeAt(i + <span class="hljs-number">1</span>));
                <span class="hljs-keyword">continue</span>;
            }
            result += <span class="hljs-built_in">String</span>.fromCharCode(code);
        }

        single = !(quotes === <span class="hljs-string">'double'</span> || (quotes === <span class="hljs-string">'auto'</span> &amp;&amp; doubleQuotes &lt; singleQuotes));
        quote = single ? <span class="hljs-string">'\''</span> : <span class="hljs-string">'"'</span>;

        <span class="hljs-keyword">if</span> (!(single ? singleQuotes : doubleQuotes)) {
            <span class="hljs-keyword">return</span> quote + result + quote;
        }

        str = result;
        result = quote;

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = str.length; i &lt; len; ++i) {
            code = str.charCodeAt(i);
            <span class="hljs-keyword">if</span> ((code === <span class="hljs-number">0x27</span>  <span class="hljs-comment">/* ' */</span> &amp;&amp; single) || (code === <span class="hljs-number">0x22</span>  <span class="hljs-comment">/* " */</span> &amp;&amp; !single)) {
                result += <span class="hljs-string">'\\'</span>;
            }
            result += <span class="hljs-built_in">String</span>.fromCharCode(code);
        }

        <span class="hljs-keyword">return</span> result + quote;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<div class="dox">
<div class="summary">
<p>flatten an array to a string, where the array can contain
either strings or nested arrays</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">flattenToString</span>(<span class="hljs-params">arr</span>) </span>{
        <span class="hljs-keyword">var</span> i, iz, elem, result = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, iz = arr.length; i &lt; iz; ++i) {
            elem = arr[i];
            result += isArray(elem) ? flattenToString(elem) : elem;
        }
        <span class="hljs-keyword">return</span> result;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<div class="dox">
<div class="summary">
<p>convert generated to a SourceNode when source maps are enabled.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toSourceNodeWhenNeeded</span>(<span class="hljs-params">generated, node</span>) </span>{
        <span class="hljs-keyword">if</span> (!sourceMap) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<p>with no source maps, generated is either an
array or a string.  if an array, flatten it.
if a string, just return it</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (isArray(generated)) {
                <span class="hljs-keyword">return</span> flattenToString(generated);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> generated;
            }
        }
        <span class="hljs-keyword">if</span> (node == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (generated <span class="hljs-keyword">instanceof</span> SourceNode) {
                <span class="hljs-keyword">return</span> generated;
            } <span class="hljs-keyword">else</span> {
                node = {};
            }
        }
        <span class="hljs-keyword">if</span> (node.loc == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> SourceNode(<span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, sourceMap, generated, node.name || <span class="hljs-literal">null</span>);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> SourceNode(node.loc.start.line, node.loc.start.column, (sourceMap === <span class="hljs-literal">true</span> ? node.loc.source || <span class="hljs-literal">null</span> : sourceMap), generated, node.name || <span class="hljs-literal">null</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">noEmptySpace</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> (space) ? space : <span class="hljs-string">' '</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">join</span>(<span class="hljs-params">left, right</span>) </span>{
        <span class="hljs-keyword">var</span> leftSource,
            rightSource,
            leftCharCode,
            rightCharCode;

        leftSource = toSourceNodeWhenNeeded(left).toString();
        <span class="hljs-keyword">if</span> (leftSource.length === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> [right];
        }

        rightSource = toSourceNodeWhenNeeded(right).toString();
        <span class="hljs-keyword">if</span> (rightSource.length === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> [left];
        }

        leftCharCode = leftSource.charCodeAt(leftSource.length - <span class="hljs-number">1</span>);
        rightCharCode = rightSource.charCodeAt(<span class="hljs-number">0</span>);

        <span class="hljs-keyword">if</span> ((leftCharCode === <span class="hljs-number">0x2B</span>  <span class="hljs-comment">/* + */</span> || leftCharCode === <span class="hljs-number">0x2D</span>  <span class="hljs-comment">/* - */</span>) &amp;&amp; leftCharCode === rightCharCode ||
            esutils.code.isIdentifierPartES5(leftCharCode) &amp;&amp; esutils.code.isIdentifierPartES5(rightCharCode) ||
            leftCharCode === <span class="hljs-number">0x2F</span>  <span class="hljs-comment">/* / */</span> &amp;&amp; rightCharCode === <span class="hljs-number">0x69</span>  <span class="hljs-comment">/* i */</span>) { <span class="hljs-comment">// infix word operators all start with `i`</span>
            <span class="hljs-keyword">return</span> [left, noEmptySpace(), right];
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (esutils.code.isWhiteSpace(leftCharCode) || esutils.code.isLineTerminator(leftCharCode) ||
                esutils.code.isWhiteSpace(rightCharCode) || esutils.code.isLineTerminator(rightCharCode)) {
            <span class="hljs-keyword">return</span> [left, right];
        }
        <span class="hljs-keyword">return</span> [left, space, right];
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addIndent</span>(<span class="hljs-params">stmt</span>) </span>{
        <span class="hljs-keyword">return</span> [base, stmt];
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withIndent</span>(<span class="hljs-params">fn</span>) </span>{
        <span class="hljs-keyword">var</span> previousBase;
        previousBase = base;
        base += indent;
        fn(base);
        base = previousBase;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">calculateSpaces</span>(<span class="hljs-params">str</span>) </span>{
        <span class="hljs-keyword">var</span> i;
        <span class="hljs-keyword">for</span> (i = str.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i) {
            <span class="hljs-keyword">if</span> (esutils.code.isLineTerminator(str.charCodeAt(i))) {
                <span class="hljs-keyword">break</span>;
            }
        }
        <span class="hljs-keyword">return</span> (str.length - <span class="hljs-number">1</span>) - i;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">adjustMultilineComment</span>(<span class="hljs-params">value, specialBase</span>) </span>{
        <span class="hljs-keyword">var</span> array, i, len, line, j, spaces, previousBase, sn;

        array = value.split(<span class="hljs-regexp">/\r\n|[\r\n]/</span>);
        spaces = <span class="hljs-built_in">Number</span>.MAX_VALUE;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<p>first line doesn't have indentation</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>, len = array.length; i &lt; len; ++i) {
            line = array[i];
            j = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">while</span> (j &lt; line.length &amp;&amp; esutils.code.isWhiteSpace(line.charCodeAt(j))) {
                ++j;
            }
            <span class="hljs-keyword">if</span> (spaces &gt; j) {
                spaces = j;
            }
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> specialBase !== <span class="hljs-string">'undefined'</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18"></a>
</div>
<p>pattern like
{
var t = 20;  /*
* this is comment
*/
}</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            previousBase = base;
            <span class="hljs-keyword">if</span> (array[<span class="hljs-number">1</span>][spaces] === <span class="hljs-string">'*'</span>) {
                specialBase += <span class="hljs-string">' '</span>;
            }
            base = specialBase;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (spaces &amp; <span class="hljs-number">1</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19"></a>
</div>
<p>/*</p>
<ul>
<li></li>
</ul>
<p>*/
If spaces are odd number, above pattern is considered.
We waste 1 space.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                --spaces;
            }
            previousBase = base;
        }

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>, len = array.length; i &lt; len; ++i) {
            sn = toSourceNodeWhenNeeded(addIndent(array[i].slice(spaces)));
            array[i] = sourceMap ? sn.join(<span class="hljs-string">''</span>) : sn;
        }

        base = previousBase;

        <span class="hljs-keyword">return</span> array.join(<span class="hljs-string">'\n'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateComment</span>(<span class="hljs-params">comment, specialBase</span>) </span>{
        <span class="hljs-keyword">if</span> (comment.type === <span class="hljs-string">'Line'</span>) {
            <span class="hljs-keyword">if</span> (endsWithLineTerminator(comment.value)) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">'//'</span> + comment.value;
            } <span class="hljs-keyword">else</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20"></a>
</div>
<p>Always use LineTerminator</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                <span class="hljs-keyword">var</span> result = <span class="hljs-string">'//'</span> + comment.value;
                <span class="hljs-keyword">if</span> (!preserveBlankLines) {
                    result += <span class="hljs-string">'\n'</span>;
                }
                <span class="hljs-keyword">return</span> result;
            }
        }
        <span class="hljs-keyword">if</span> (extra.format.indent.adjustMultilineComment &amp;&amp; <span class="hljs-regexp">/[\n\r]/</span>.test(comment.value)) {
            <span class="hljs-keyword">return</span> adjustMultilineComment(<span class="hljs-string">'/*'</span> + comment.value + <span class="hljs-string">'*/'</span>, specialBase);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-string">'/*'</span> + comment.value + <span class="hljs-string">'*/'</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addComments</span>(<span class="hljs-params">stmt, result</span>) </span>{
        <span class="hljs-keyword">var</span> i, len, comment, save, tailingToStatement, specialBase, fragment,
            extRange, range, prevRange, prefix, infix, suffix, count;

        <span class="hljs-keyword">if</span> (stmt.leadingComments &amp;&amp; stmt.leadingComments.length &gt; <span class="hljs-number">0</span>) {
            save = result;

            <span class="hljs-keyword">if</span> (preserveBlankLines) {
                comment = stmt.leadingComments[<span class="hljs-number">0</span>];
                result = [];

                extRange = comment.extendedRange;
                range = comment.range;

                prefix = sourceCode.substring(extRange[<span class="hljs-number">0</span>], range[<span class="hljs-number">0</span>]);
                count = (prefix.match(<span class="hljs-regexp">/\n/g</span>) || []).length;
                <span class="hljs-keyword">if</span> (count &gt; <span class="hljs-number">0</span>) {
                    result.push(stringRepeat(<span class="hljs-string">'\n'</span>, count));
                    result.push(addIndent(generateComment(comment)));
                } <span class="hljs-keyword">else</span> {
                    result.push(prefix);
                    result.push(generateComment(comment));
                }

                prevRange = range;

                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>, len = stmt.leadingComments.length; i &lt; len; i++) {
                    comment = stmt.leadingComments[i];
                    range = comment.range;

                    infix = sourceCode.substring(prevRange[<span class="hljs-number">1</span>], range[<span class="hljs-number">0</span>]);
                    count = (infix.match(<span class="hljs-regexp">/\n/g</span>) || []).length;
                    result.push(stringRepeat(<span class="hljs-string">'\n'</span>, count));
                    result.push(addIndent(generateComment(comment)));

                    prevRange = range;
                }

                suffix = sourceCode.substring(range[<span class="hljs-number">1</span>], extRange[<span class="hljs-number">1</span>]);
                count = (suffix.match(<span class="hljs-regexp">/\n/g</span>) || []).length;
                result.push(stringRepeat(<span class="hljs-string">'\n'</span>, count));
            } <span class="hljs-keyword">else</span> {
                comment = stmt.leadingComments[<span class="hljs-number">0</span>];
                result = [];
                <span class="hljs-keyword">if</span> (safeConcatenation &amp;&amp; stmt.type === Syntax.Program &amp;&amp; stmt.body.length === <span class="hljs-number">0</span>) {
                    result.push(<span class="hljs-string">'\n'</span>);
                }
                result.push(generateComment(comment));
                <span class="hljs-keyword">if</span> (!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                    result.push(<span class="hljs-string">'\n'</span>);
                }

                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>, len = stmt.leadingComments.length; i &lt; len; ++i) {
                    comment = stmt.leadingComments[i];
                    fragment = [generateComment(comment)];
                    <span class="hljs-keyword">if</span> (!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {
                        fragment.push(<span class="hljs-string">'\n'</span>);
                    }
                    result.push(addIndent(fragment));
                }
            }

            result.push(addIndent(save));
        }

        <span class="hljs-keyword">if</span> (stmt.trailingComments) {

            <span class="hljs-keyword">if</span> (preserveBlankLines) {
                comment = stmt.trailingComments[<span class="hljs-number">0</span>];
                extRange = comment.extendedRange;
                range = comment.range;

                prefix = sourceCode.substring(extRange[<span class="hljs-number">0</span>], range[<span class="hljs-number">0</span>]);
                count = (prefix.match(<span class="hljs-regexp">/\n/g</span>) || []).length;

                <span class="hljs-keyword">if</span> (count &gt; <span class="hljs-number">0</span>) {
                    result.push(stringRepeat(<span class="hljs-string">'\n'</span>, count));
                    result.push(addIndent(generateComment(comment)));
                } <span class="hljs-keyword">else</span> {
                    result.push(prefix);
                    result.push(generateComment(comment));
                }
            } <span class="hljs-keyword">else</span> {
                tailingToStatement = !endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString());
                specialBase = stringRepeat(<span class="hljs-string">' '</span>, calculateSpaces(toSourceNodeWhenNeeded([base, result, indent]).toString()));
                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = stmt.trailingComments.length; i &lt; len; ++i) {
                    comment = stmt.trailingComments[i];
                    <span class="hljs-keyword">if</span> (tailingToStatement) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21"></a>
</div>
<p>We assume target like following script</p>
<p>var t = 20;  /**
* This is comment of t
*/</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                        <span class="hljs-keyword">if</span> (i === <span class="hljs-number">0</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22"></a>
</div>
<p>first case</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                            result = [result, indent];
                        } <span class="hljs-keyword">else</span> {
                            result = [result, specialBase];
                        }
                        result.push(generateComment(comment, specialBase));
                    } <span class="hljs-keyword">else</span> {
                        result = [result, addIndent(generateComment(comment))];
                    }
                    <span class="hljs-keyword">if</span> (i !== len - <span class="hljs-number">1</span> &amp;&amp; !endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                        result = [result, <span class="hljs-string">'\n'</span>];
                    }
                }
            }
        }

        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateBlankLines</span>(<span class="hljs-params">start, end, result</span>) </span>{
        <span class="hljs-keyword">var</span> j, newlineCount = <span class="hljs-number">0</span>;

        <span class="hljs-keyword">for</span> (j = start; j &lt; end; j++) {
            <span class="hljs-keyword">if</span> (sourceCode[j] === <span class="hljs-string">'\n'</span>) {
                newlineCount++;
            }
        }

        <span class="hljs-keyword">for</span> (j = <span class="hljs-number">1</span>; j &lt; newlineCount; j++) {
            result.push(newline);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parenthesize</span>(<span class="hljs-params">text, current, should</span>) </span>{
        <span class="hljs-keyword">if</span> (current &lt; should) {
            <span class="hljs-keyword">return</span> [<span class="hljs-string">'('</span>, text, <span class="hljs-string">')'</span>];
        }
        <span class="hljs-keyword">return</span> text;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateVerbatimString</span>(<span class="hljs-params">string</span>) </span>{
        <span class="hljs-keyword">var</span> i, iz, result;
        result = string.split(<span class="hljs-regexp">/\r\n|\n/</span>);
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>, iz = result.length; i &lt; iz; i++) {
            result[i] = newline + base + result[i];
        }
        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateVerbatim</span>(<span class="hljs-params">expr, precedence</span>) </span>{
        <span class="hljs-keyword">var</span> verbatim, result, prec;
        verbatim = expr[extra.verbatim];

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> verbatim === <span class="hljs-string">'string'</span>) {
            result = parenthesize(generateVerbatimString(verbatim), Precedence.Sequence, precedence);
        } <span class="hljs-keyword">else</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23"></a>
</div>
<p>verbatim is object</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            result = generateVerbatimString(verbatim.content);
            prec = (verbatim.precedence != <span class="hljs-literal">null</span>) ? verbatim.precedence : Precedence.Sequence;
            result = parenthesize(result, prec, precedence);
        }

        <span class="hljs-keyword">return</span> toSourceNodeWhenNeeded(result, expr);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">CodeGenerator</span>(<span class="hljs-params"></span>) </span>{
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24"></a>
</div>
<p>Helpers.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    CodeGenerator.prototype.maybeBlock = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">stmt, flags</span>) </span>{
        <span class="hljs-keyword">var</span> result, noLeadingComment, that = <span class="hljs-keyword">this</span>;

        noLeadingComment = !extra.comment || !stmt.leadingComments;

        <span class="hljs-keyword">if</span> (stmt.type === Syntax.BlockStatement &amp;&amp; noLeadingComment) {
            <span class="hljs-keyword">return</span> [space, <span class="hljs-keyword">this</span>.generateStatement(stmt, flags)];
        }

        <span class="hljs-keyword">if</span> (stmt.type === Syntax.EmptyStatement &amp;&amp; noLeadingComment) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">';'</span>;
        }

        withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            result = [
                newline,
                addIndent(that.generateStatement(stmt, flags))
            ];
        });

        <span class="hljs-keyword">return</span> result;
    };

    CodeGenerator.prototype.maybeBlockSuffix = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, result</span>) </span>{
        <span class="hljs-keyword">var</span> ends = endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString());
        <span class="hljs-keyword">if</span> (stmt.type === Syntax.BlockStatement &amp;&amp; (!extra.comment || !stmt.leadingComments) &amp;&amp; !ends) {
            <span class="hljs-keyword">return</span> [result, space];
        }
        <span class="hljs-keyword">if</span> (ends) {
            <span class="hljs-keyword">return</span> [result, base];
        }
        <span class="hljs-keyword">return</span> [result, newline, base];
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateIdentifier</span>(<span class="hljs-params">node</span>) </span>{
        <span class="hljs-keyword">return</span> toSourceNodeWhenNeeded(node.name, node);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateAsyncPrefix</span>(<span class="hljs-params">node, spaceRequired</span>) </span>{
        <span class="hljs-keyword">return</span> node.async ? <span class="hljs-string">'async'</span> + (spaceRequired ? noEmptySpace() : space) : <span class="hljs-string">''</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateStarSuffix</span>(<span class="hljs-params">node</span>) </span>{
        <span class="hljs-keyword">var</span> isGenerator = node.generator &amp;&amp; !extra.moz.starlessGenerator;
        <span class="hljs-keyword">return</span> isGenerator ? <span class="hljs-string">'*'</span> + space : <span class="hljs-string">''</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateMethodPrefix</span>(<span class="hljs-params">prop</span>) </span>{
        <span class="hljs-keyword">var</span> func = prop.value;
        <span class="hljs-keyword">if</span> (func.async) {
            <span class="hljs-keyword">return</span> generateAsyncPrefix(func, !prop.computed);
        } <span class="hljs-keyword">else</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-25" id="section-25"></a>
</div>
<p>avoid space before method name</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">return</span> generateStarSuffix(func) ? <span class="hljs-string">'*'</span> : <span class="hljs-string">''</span>;
        }
    }

    CodeGenerator.prototype.generatePattern = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node, precedence, flags</span>) </span>{
        <span class="hljs-keyword">if</span> (node.type === Syntax.Identifier) {
            <span class="hljs-keyword">return</span> generateIdentifier(node);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.generateExpression(node, precedence, flags);
    };

    CodeGenerator.prototype.generateFunctionParams = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node</span>) </span>{
        <span class="hljs-keyword">var</span> i, iz, result, hasDefault;

        hasDefault = <span class="hljs-literal">false</span>;

        <span class="hljs-keyword">if</span> (node.type === Syntax.ArrowFunctionExpression &amp;&amp;
                !node.rest &amp;&amp; (!node.defaults || node.defaults.length === <span class="hljs-number">0</span>) &amp;&amp;
                node.params.length === <span class="hljs-number">1</span> &amp;&amp; node.params[<span class="hljs-number">0</span>].type === Syntax.Identifier) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-26" id="section-26"></a>
</div>
<p>arg =&gt; { } case</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            result = [generateAsyncPrefix(node, <span class="hljs-literal">true</span>), generateIdentifier(node.params[<span class="hljs-number">0</span>])];
        } <span class="hljs-keyword">else</span> {
            result = node.type === Syntax.ArrowFunctionExpression ? [generateAsyncPrefix(node, <span class="hljs-literal">false</span>)] : [];
            result.push(<span class="hljs-string">'('</span>);
            <span class="hljs-keyword">if</span> (node.defaults) {
                hasDefault = <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, iz = node.params.length; i &lt; iz; ++i) {
                <span class="hljs-keyword">if</span> (hasDefault &amp;&amp; node.defaults[i]) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-27" id="section-27"></a>
</div>
<p>Handle default values.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                    result.push(<span class="hljs-keyword">this</span>.generateAssignment(node.params[i], node.defaults[i], <span class="hljs-string">'='</span>, Precedence.Assignment, E_TTT));
                } <span class="hljs-keyword">else</span> {
                    result.push(<span class="hljs-keyword">this</span>.generatePattern(node.params[i], Precedence.Assignment, E_TTT));
                }
                <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; iz) {
                    result.push(<span class="hljs-string">','</span> + space);
                }
            }

            <span class="hljs-keyword">if</span> (node.rest) {
                <span class="hljs-keyword">if</span> (node.params.length) {
                    result.push(<span class="hljs-string">','</span> + space);
                }
                result.push(<span class="hljs-string">'...'</span>);
                result.push(generateIdentifier(node.rest));
            }

            result.push(<span class="hljs-string">')'</span>);
        }

        <span class="hljs-keyword">return</span> result;
    };

    CodeGenerator.prototype.generateFunctionBody = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node</span>) </span>{
        <span class="hljs-keyword">var</span> result, expr;

        result = <span class="hljs-keyword">this</span>.generateFunctionParams(node);

        <span class="hljs-keyword">if</span> (node.type === Syntax.ArrowFunctionExpression) {
            result.push(space);
            result.push(<span class="hljs-string">'=&gt;'</span>);
        }

        <span class="hljs-keyword">if</span> (node.expression) {
            result.push(space);
            expr = <span class="hljs-keyword">this</span>.generateExpression(node.body, Precedence.Assignment, E_TTT);
            <span class="hljs-keyword">if</span> (expr.toString().charAt(<span class="hljs-number">0</span>) === <span class="hljs-string">'{'</span>) {
                expr = [<span class="hljs-string">'('</span>, expr, <span class="hljs-string">')'</span>];
            }
            result.push(expr);
        } <span class="hljs-keyword">else</span> {
            result.push(<span class="hljs-keyword">this</span>.maybeBlock(node.body, S_TTFF));
        }

        <span class="hljs-keyword">return</span> result;
    };

    CodeGenerator.prototype.generateIterationForStatement = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">operator, stmt, flags</span>) </span>{
        <span class="hljs-keyword">var</span> result = [<span class="hljs-string">'for'</span> + space + <span class="hljs-string">'('</span>], that = <span class="hljs-keyword">this</span>;
        withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (stmt.left.type === Syntax.VariableDeclaration) {
                withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                    result.push(stmt.left.kind + noEmptySpace());
                    result.push(that.generateStatement(stmt.left.declarations[<span class="hljs-number">0</span>], S_FFFF));
                });
            } <span class="hljs-keyword">else</span> {
                result.push(that.generateExpression(stmt.left, Precedence.Call, E_TTT));
            }

            result = join(result, operator);
            result = [join(
                result,
                that.generateExpression(stmt.right, Precedence.Sequence, E_TTT)
            ), <span class="hljs-string">')'</span>];
        });
        result.push(<span class="hljs-keyword">this</span>.maybeBlock(stmt.body, flags));
        <span class="hljs-keyword">return</span> result;
    };

    CodeGenerator.prototype.generatePropertyKey = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, computed, value</span>) </span>{
        <span class="hljs-keyword">var</span> result = [];

        <span class="hljs-keyword">if</span> (computed) {
            result.push(<span class="hljs-string">'['</span>);
        }

        <span class="hljs-keyword">if</span> (value.type === <span class="hljs-string">'AssignmentPattern'</span>) {
            result.push(<span class="hljs-keyword">this</span>.AssignmentPattern(value, Precedence.Sequence, E_TTT));
        } <span class="hljs-keyword">else</span> {
            result.push(<span class="hljs-keyword">this</span>.generateExpression(expr, Precedence.Sequence, E_TTT));
        }

        <span class="hljs-keyword">if</span> (computed) {
            result.push(<span class="hljs-string">']'</span>);
        }

        <span class="hljs-keyword">return</span> result;
    };

    CodeGenerator.prototype.generateAssignment = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">left, right, operator, precedence, flags</span>) </span>{
        <span class="hljs-keyword">if</span> (Precedence.Assignment &lt; precedence) {
            flags |= F_ALLOW_IN;
        }

        <span class="hljs-keyword">return</span> parenthesize(
            [
                <span class="hljs-keyword">this</span>.generateExpression(left, Precedence.Call, flags),
                space + operator + space,
                <span class="hljs-keyword">this</span>.generateExpression(right, Precedence.Assignment, flags)
            ],
            Precedence.Assignment,
            precedence
        );
    };

    CodeGenerator.prototype.semicolon = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">flags</span>) </span>{
        <span class="hljs-keyword">if</span> (!semicolons &amp;&amp; flags &amp; F_SEMICOLON_OPT) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-string">';'</span>;
    };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-28" id="section-28"></a>
</div>
<p>Statements.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    CodeGenerator.Statement = {

        <span class="hljs-attr">BlockStatement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">var</span> range, content, result = [<span class="hljs-string">'{'</span>, newline], that = <span class="hljs-keyword">this</span>;

            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-29" id="section-29"></a>
</div>
<p>handle functions without any code</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                <span class="hljs-keyword">if</span> (stmt.body.length === <span class="hljs-number">0</span> &amp;&amp; preserveBlankLines) {
                    range = stmt.range;
                    <span class="hljs-keyword">if</span> (range[<span class="hljs-number">1</span>] - range[<span class="hljs-number">0</span>] &gt; <span class="hljs-number">2</span>) {
                        content = sourceCode.substring(range[<span class="hljs-number">0</span>] + <span class="hljs-number">1</span>, range[<span class="hljs-number">1</span>] - <span class="hljs-number">1</span>);
                        <span class="hljs-keyword">if</span> (content[<span class="hljs-number">0</span>] === <span class="hljs-string">'\n'</span>) {
                            result = [<span class="hljs-string">'{'</span>];
                        }
                        result.push(content);
                    }
                }

                <span class="hljs-keyword">var</span> i, iz, fragment, bodyFlags;
                bodyFlags = S_TFFF;
                <span class="hljs-keyword">if</span> (flags &amp; F_FUNC_BODY) {
                    bodyFlags |= F_DIRECTIVE_CTX;
                }

                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, iz = stmt.body.length; i &lt; iz; ++i) {
                    <span class="hljs-keyword">if</span> (preserveBlankLines) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-30" id="section-30"></a>
</div>
<p>handle spaces before the first line</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                        <span class="hljs-keyword">if</span> (i === <span class="hljs-number">0</span>) {
                            <span class="hljs-keyword">if</span> (stmt.body[<span class="hljs-number">0</span>].leadingComments) {
                                range = stmt.body[<span class="hljs-number">0</span>].leadingComments[<span class="hljs-number">0</span>].extendedRange;
                                content = sourceCode.substring(range[<span class="hljs-number">0</span>], range[<span class="hljs-number">1</span>]);
                                <span class="hljs-keyword">if</span> (content[<span class="hljs-number">0</span>] === <span class="hljs-string">'\n'</span>) {
                                    result = [<span class="hljs-string">'{'</span>];
                                }
                            }
                            <span class="hljs-keyword">if</span> (!stmt.body[<span class="hljs-number">0</span>].leadingComments) {
                                generateBlankLines(stmt.range[<span class="hljs-number">0</span>], stmt.body[<span class="hljs-number">0</span>].range[<span class="hljs-number">0</span>], result);
                            }
                        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-31" id="section-31"></a>
</div>
<p>handle spaces between lines</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                        <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span>) {
                            <span class="hljs-keyword">if</span> (!stmt.body[i - <span class="hljs-number">1</span>].trailingComments  &amp;&amp; !stmt.body[i].leadingComments) {
                                generateBlankLines(stmt.body[i - <span class="hljs-number">1</span>].range[<span class="hljs-number">1</span>], stmt.body[i].range[<span class="hljs-number">0</span>], result);
                            }
                        }
                    }

                    <span class="hljs-keyword">if</span> (i === iz - <span class="hljs-number">1</span>) {
                        bodyFlags |= F_SEMICOLON_OPT;
                    }

                    <span class="hljs-keyword">if</span> (stmt.body[i].leadingComments &amp;&amp; preserveBlankLines) {
                        fragment = that.generateStatement(stmt.body[i], bodyFlags);
                    } <span class="hljs-keyword">else</span> {
                        fragment = addIndent(that.generateStatement(stmt.body[i], bodyFlags));
                    }

                    result.push(fragment);
                    <span class="hljs-keyword">if</span> (!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {
                        <span class="hljs-keyword">if</span> (preserveBlankLines &amp;&amp; i &lt; iz - <span class="hljs-number">1</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-32" id="section-32"></a>
</div>
<p>don't add a new line if there are leading coments
in the next statement</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                            <span class="hljs-keyword">if</span> (!stmt.body[i + <span class="hljs-number">1</span>].leadingComments) {
                                result.push(newline);
                            }
                        } <span class="hljs-keyword">else</span> {
                            result.push(newline);
                        }
                    }

                    <span class="hljs-keyword">if</span> (preserveBlankLines) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-33" id="section-33"></a>
</div>
<p>handle spaces after the last line</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                        <span class="hljs-keyword">if</span> (i === iz - <span class="hljs-number">1</span>) {
                            <span class="hljs-keyword">if</span> (!stmt.body[i].trailingComments) {
                                generateBlankLines(stmt.body[i].range[<span class="hljs-number">1</span>], stmt.range[<span class="hljs-number">1</span>], result);
                            }
                        }
                    }
                }
            });

            result.push(addIndent(<span class="hljs-string">'}'</span>));
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">BreakStatement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">if</span> (stmt.label) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">'break '</span> + stmt.label.name + <span class="hljs-keyword">this</span>.semicolon(flags);
            }
            <span class="hljs-keyword">return</span> <span class="hljs-string">'break'</span> + <span class="hljs-keyword">this</span>.semicolon(flags);
        },

        <span class="hljs-attr">ContinueStatement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">if</span> (stmt.label) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">'continue '</span> + stmt.label.name + <span class="hljs-keyword">this</span>.semicolon(flags);
            }
            <span class="hljs-keyword">return</span> <span class="hljs-string">'continue'</span> + <span class="hljs-keyword">this</span>.semicolon(flags);
        },

        <span class="hljs-attr">ClassBody</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result = [ <span class="hljs-string">'{'</span>, newline], that = <span class="hljs-keyword">this</span>;

            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">indent</span>) </span>{
                <span class="hljs-keyword">var</span> i, iz;

                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, iz = stmt.body.length; i &lt; iz; ++i) {
                    result.push(indent);
                    result.push(that.generateExpression(stmt.body[i], Precedence.Sequence, E_TTT));
                    <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; iz) {
                        result.push(newline);
                    }
                }
            });

            <span class="hljs-keyword">if</span> (!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                result.push(newline);
            }
            result.push(base);
            result.push(<span class="hljs-string">'}'</span>);
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">ClassDeclaration</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result, fragment;
            result  = [<span class="hljs-string">'class'</span>];
            <span class="hljs-keyword">if</span> (stmt.id) {
                result = join(result, <span class="hljs-keyword">this</span>.generateExpression(stmt.id, Precedence.Sequence, E_TTT));
            }
            <span class="hljs-keyword">if</span> (stmt.superClass) {
                fragment = join(<span class="hljs-string">'extends'</span>, <span class="hljs-keyword">this</span>.generateExpression(stmt.superClass, Precedence.Assignment, E_TTT));
                result = join(result, fragment);
            }
            result.push(space);
            result.push(<span class="hljs-keyword">this</span>.generateStatement(stmt.body, S_TFFT));
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">DirectiveStatement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">if</span> (extra.raw &amp;&amp; stmt.raw) {
                <span class="hljs-keyword">return</span> stmt.raw + <span class="hljs-keyword">this</span>.semicolon(flags);
            }
            <span class="hljs-keyword">return</span> escapeDirective(stmt.directive) + <span class="hljs-keyword">this</span>.semicolon(flags);
        },

        <span class="hljs-attr">DoWhileStatement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-34" id="section-34"></a>
</div>
<p>Because <code>do 42 while (cond)</code> is Syntax Error. We need semicolon.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">var</span> result = join(<span class="hljs-string">'do'</span>, <span class="hljs-keyword">this</span>.maybeBlock(stmt.body, S_TFFF));
            result = <span class="hljs-keyword">this</span>.maybeBlockSuffix(stmt.body, result);
            <span class="hljs-keyword">return</span> join(result, [
                <span class="hljs-string">'while'</span> + space + <span class="hljs-string">'('</span>,
                <span class="hljs-keyword">this</span>.generateExpression(stmt.test, Precedence.Sequence, E_TTT),
                <span class="hljs-string">')'</span> + <span class="hljs-keyword">this</span>.semicolon(flags)
            ]);
        },

        <span class="hljs-attr">CatchClause</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result, that = <span class="hljs-keyword">this</span>;
            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">var</span> guard;

                result = [
                    <span class="hljs-string">'catch'</span> + space + <span class="hljs-string">'('</span>,
                    that.generateExpression(stmt.param, Precedence.Sequence, E_TTT),
                    <span class="hljs-string">')'</span>
                ];

                <span class="hljs-keyword">if</span> (stmt.guard) {
                    guard = that.generateExpression(stmt.guard, Precedence.Sequence, E_TTT);
                    result.splice(<span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-string">' if '</span>, guard);
                }
            });
            result.push(<span class="hljs-keyword">this</span>.maybeBlock(stmt.body, S_TFFF));
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">DebuggerStatement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-string">'debugger'</span> + <span class="hljs-keyword">this</span>.semicolon(flags);
        },

        <span class="hljs-attr">EmptyStatement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-string">';'</span>;
        },

        <span class="hljs-attr">ExportDefaultDeclaration</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result = [ <span class="hljs-string">'export'</span> ], bodyFlags;

            bodyFlags = (flags &amp; F_SEMICOLON_OPT) ? S_TFFT : S_TFFF;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-35" id="section-35"></a>
</div>
<p>export default HoistableDeclaration[Default]
export default AssignmentExpression[In] ;</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            result = join(result, <span class="hljs-string">'default'</span>);
            <span class="hljs-keyword">if</span> (isStatement(stmt.declaration)) {
                result = join(result, <span class="hljs-keyword">this</span>.generateStatement(stmt.declaration, bodyFlags));
            } <span class="hljs-keyword">else</span> {
                result = join(result, <span class="hljs-keyword">this</span>.generateExpression(stmt.declaration, Precedence.Assignment, E_TTT) + <span class="hljs-keyword">this</span>.semicolon(flags));
            }
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">ExportNamedDeclaration</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result = [ <span class="hljs-string">'export'</span> ], bodyFlags, that = <span class="hljs-keyword">this</span>;

            bodyFlags = (flags &amp; F_SEMICOLON_OPT) ? S_TFFT : S_TFFF;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-36" id="section-36"></a>
</div>
<p>export VariableStatement
export Declaration[Default]</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (stmt.declaration) {
                <span class="hljs-keyword">return</span> join(result, <span class="hljs-keyword">this</span>.generateStatement(stmt.declaration, bodyFlags));
            }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-37" id="section-37"></a>
</div>
<p>export ExportClause[NoReference] FromClause ;
export ExportClause ;</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (stmt.specifiers) {
                <span class="hljs-keyword">if</span> (stmt.specifiers.length === <span class="hljs-number">0</span>) {
                    result = join(result, <span class="hljs-string">'{'</span> + space + <span class="hljs-string">'}'</span>);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (stmt.specifiers[<span class="hljs-number">0</span>].type === Syntax.ExportBatchSpecifier) {
                    result = join(result, <span class="hljs-keyword">this</span>.generateExpression(stmt.specifiers[<span class="hljs-number">0</span>], Precedence.Sequence, E_TTT));
                } <span class="hljs-keyword">else</span> {
                    result = join(result, <span class="hljs-string">'{'</span>);
                    withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">indent</span>) </span>{
                        <span class="hljs-keyword">var</span> i, iz;
                        result.push(newline);
                        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, iz = stmt.specifiers.length; i &lt; iz; ++i) {
                            result.push(indent);
                            result.push(that.generateExpression(stmt.specifiers[i], Precedence.Sequence, E_TTT));
                            <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; iz) {
                                result.push(<span class="hljs-string">','</span> + newline);
                            }
                        }
                    });
                    <span class="hljs-keyword">if</span> (!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                        result.push(newline);
                    }
                    result.push(base + <span class="hljs-string">'}'</span>);
                }

                <span class="hljs-keyword">if</span> (stmt.source) {
                    result = join(result, [
                        <span class="hljs-string">'from'</span> + space,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-38" id="section-38"></a>
</div>
<p>ModuleSpecifier</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                        <span class="hljs-keyword">this</span>.generateExpression(stmt.source, Precedence.Sequence, E_TTT),
                        <span class="hljs-keyword">this</span>.semicolon(flags)
                    ]);
                } <span class="hljs-keyword">else</span> {
                    result.push(<span class="hljs-keyword">this</span>.semicolon(flags));
                }
            }
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">ExportAllDeclaration</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-39" id="section-39"></a>
</div>
<p>export * FromClause ;</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">return</span> [
                <span class="hljs-string">'export'</span> + space,
                <span class="hljs-string">'*'</span> + space,
                <span class="hljs-string">'from'</span> + space,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-40" id="section-40"></a>
</div>
<p>ModuleSpecifier</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                <span class="hljs-keyword">this</span>.generateExpression(stmt.source, Precedence.Sequence, E_TTT),
                <span class="hljs-keyword">this</span>.semicolon(flags)
            ];
        },

        <span class="hljs-attr">ExpressionStatement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result, fragment;

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isClassPrefixed</span>(<span class="hljs-params">fragment</span>) </span>{
                <span class="hljs-keyword">var</span> code;
                <span class="hljs-keyword">if</span> (fragment.slice(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>) !== <span class="hljs-string">'class'</span>) {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }
                code = fragment.charCodeAt(<span class="hljs-number">5</span>);
                <span class="hljs-keyword">return</span> code === <span class="hljs-number">0x7B</span>  <span class="hljs-comment">/* '{' */</span> || esutils.code.isWhiteSpace(code) || esutils.code.isLineTerminator(code);
            }

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isFunctionPrefixed</span>(<span class="hljs-params">fragment</span>) </span>{
                <span class="hljs-keyword">var</span> code;
                <span class="hljs-keyword">if</span> (fragment.slice(<span class="hljs-number">0</span>, <span class="hljs-number">8</span>) !== <span class="hljs-string">'function'</span>) {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }
                code = fragment.charCodeAt(<span class="hljs-number">8</span>);
                <span class="hljs-keyword">return</span> code === <span class="hljs-number">0x28</span> <span class="hljs-comment">/* '(' */</span> || esutils.code.isWhiteSpace(code) || code === <span class="hljs-number">0x2A</span>  <span class="hljs-comment">/* '*' */</span> || esutils.code.isLineTerminator(code);
            }

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isAsyncPrefixed</span>(<span class="hljs-params">fragment</span>) </span>{
                <span class="hljs-keyword">var</span> code, i, iz;
                <span class="hljs-keyword">if</span> (fragment.slice(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>) !== <span class="hljs-string">'async'</span>) {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }
                <span class="hljs-keyword">if</span> (!esutils.code.isWhiteSpace(fragment.charCodeAt(<span class="hljs-number">5</span>))) {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }
                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">6</span>, iz = fragment.length; i &lt; iz; ++i) {
                    <span class="hljs-keyword">if</span> (!esutils.code.isWhiteSpace(fragment.charCodeAt(i))) {
                        <span class="hljs-keyword">break</span>;
                    }
                }
                <span class="hljs-keyword">if</span> (i === iz) {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }
                <span class="hljs-keyword">if</span> (fragment.slice(i, i + <span class="hljs-number">8</span>) !== <span class="hljs-string">'function'</span>) {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }
                code = fragment.charCodeAt(i + <span class="hljs-number">8</span>);
                <span class="hljs-keyword">return</span> code === <span class="hljs-number">0x28</span> <span class="hljs-comment">/* '(' */</span> || esutils.code.isWhiteSpace(code) || code === <span class="hljs-number">0x2A</span>  <span class="hljs-comment">/* '*' */</span> || esutils.code.isLineTerminator(code);
            }

            result = [<span class="hljs-keyword">this</span>.generateExpression(stmt.expression, Precedence.Sequence, E_TTT)];
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-41" id="section-41"></a>
</div>
<p>12.4 '{', 'function', 'class' is not allowed in this position.
wrap expression with parentheses</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            fragment = toSourceNodeWhenNeeded(result).toString();
            <span class="hljs-keyword">if</span> (fragment.charCodeAt(<span class="hljs-number">0</span>) === <span class="hljs-number">0x7B</span>  <span class="hljs-comment">/* '{' */</span> ||  <span class="hljs-comment">// ObjectExpression</span>
                    isClassPrefixed(fragment) ||
                    isFunctionPrefixed(fragment) ||
                    isAsyncPrefixed(fragment) ||
                    (directive &amp;&amp; (flags &amp; F_DIRECTIVE_CTX) &amp;&amp; stmt.expression.type === Syntax.Literal &amp;&amp; <span class="hljs-keyword">typeof</span> stmt.expression.value === <span class="hljs-string">'string'</span>)) {
                result = [<span class="hljs-string">'('</span>, result, <span class="hljs-string">')'</span> + <span class="hljs-keyword">this</span>.semicolon(flags)];
            } <span class="hljs-keyword">else</span> {
                result.push(<span class="hljs-keyword">this</span>.semicolon(flags));
            }
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">ImportDeclaration</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-42" id="section-42"></a>
</div>
<p>ES6: 15.2.1 valid import declarations:
- import ImportClause FromClause ;
- import ModuleSpecifier ;</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">var</span> result, cursor, that = <span class="hljs-keyword">this</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-43" id="section-43"></a>
</div>
<p>If no ImportClause is present,
this should be <code>import ModuleSpecifier</code> so skip <code>from</code>
ModuleSpecifier is StringLiteral.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (stmt.specifiers.length === <span class="hljs-number">0</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-44" id="section-44"></a>
</div>
<p>import ModuleSpecifier ;</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                <span class="hljs-keyword">return</span> [
                    <span class="hljs-string">'import'</span>,
                    space,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-45" id="section-45"></a>
</div>
<p>ModuleSpecifier</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                    <span class="hljs-keyword">this</span>.generateExpression(stmt.source, Precedence.Sequence, E_TTT),
                    <span class="hljs-keyword">this</span>.semicolon(flags)
                ];
            }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-46" id="section-46"></a>
</div>
<p>import ImportClause FromClause ;</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            result = [
                <span class="hljs-string">'import'</span>
            ];
            cursor = <span class="hljs-number">0</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-47" id="section-47"></a>
</div>
<p>ImportedBinding</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (stmt.specifiers[cursor].type === Syntax.ImportDefaultSpecifier) {
                result = join(result, [
                        <span class="hljs-keyword">this</span>.generateExpression(stmt.specifiers[cursor], Precedence.Sequence, E_TTT)
                ]);
                ++cursor;
            }

            <span class="hljs-keyword">if</span> (stmt.specifiers[cursor]) {
                <span class="hljs-keyword">if</span> (cursor !== <span class="hljs-number">0</span>) {
                    result.push(<span class="hljs-string">','</span>);
                }

                <span class="hljs-keyword">if</span> (stmt.specifiers[cursor].type === Syntax.ImportNamespaceSpecifier) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-48" id="section-48"></a>
</div>
<p>NameSpaceImport</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                    result = join(result, [
                            space,
                            <span class="hljs-keyword">this</span>.generateExpression(stmt.specifiers[cursor], Precedence.Sequence, E_TTT)
                    ]);
                } <span class="hljs-keyword">else</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-49" id="section-49"></a>
</div>
<p>NamedImports</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                    result.push(space + <span class="hljs-string">'{'</span>);

                    <span class="hljs-keyword">if</span> ((stmt.specifiers.length - cursor) === <span class="hljs-number">1</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-50" id="section-50"></a>
</div>
<p>import { ... } from &quot;...&quot;;</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                        result.push(space);
                        result.push(<span class="hljs-keyword">this</span>.generateExpression(stmt.specifiers[cursor], Precedence.Sequence, E_TTT));
                        result.push(space + <span class="hljs-string">'}'</span> + space);
                    } <span class="hljs-keyword">else</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-51" id="section-51"></a>
</div>
<p>import {
...,
...,
} from &quot;...&quot;;</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                        withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">indent</span>) </span>{
                            <span class="hljs-keyword">var</span> i, iz;
                            result.push(newline);
                            <span class="hljs-keyword">for</span> (i = cursor, iz = stmt.specifiers.length; i &lt; iz; ++i) {
                                result.push(indent);
                                result.push(that.generateExpression(stmt.specifiers[i], Precedence.Sequence, E_TTT));
                                <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; iz) {
                                    result.push(<span class="hljs-string">','</span> + newline);
                                }
                            }
                        });
                        <span class="hljs-keyword">if</span> (!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                            result.push(newline);
                        }
                        result.push(base + <span class="hljs-string">'}'</span> + space);
                    }
                }
            }

            result = join(result, [
                <span class="hljs-string">'from'</span> + space,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-52" id="section-52"></a>
</div>
<p>ModuleSpecifier</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                <span class="hljs-keyword">this</span>.generateExpression(stmt.source, Precedence.Sequence, E_TTT),
                <span class="hljs-keyword">this</span>.semicolon(flags)
            ]);
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">VariableDeclarator</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">var</span> itemFlags = (flags &amp; F_ALLOW_IN) ? E_TTT : E_FTT;
            <span class="hljs-keyword">if</span> (stmt.init) {
                <span class="hljs-keyword">return</span> [
                    <span class="hljs-keyword">this</span>.generateExpression(stmt.id, Precedence.Assignment, itemFlags),
                    space,
                    <span class="hljs-string">'='</span>,
                    space,
                    <span class="hljs-keyword">this</span>.generateExpression(stmt.init, Precedence.Assignment, itemFlags)
                ];
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.generatePattern(stmt.id, Precedence.Assignment, itemFlags);
        },

        <span class="hljs-attr">VariableDeclaration</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-53" id="section-53"></a>
</div>
<p>VariableDeclarator is typed as Statement,
but joined with comma (not LineTerminator).
So if comment is attached to target node, we should specialize.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">var</span> result, i, iz, node, bodyFlags, that = <span class="hljs-keyword">this</span>;

            result = [ stmt.kind ];

            bodyFlags = (flags &amp; F_ALLOW_IN) ? S_TFFF : S_FFFF;

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">block</span>(<span class="hljs-params"></span>) </span>{
                node = stmt.declarations[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">if</span> (extra.comment &amp;&amp; node.leadingComments) {
                    result.push(<span class="hljs-string">'\n'</span>);
                    result.push(addIndent(that.generateStatement(node, bodyFlags)));
                } <span class="hljs-keyword">else</span> {
                    result.push(noEmptySpace());
                    result.push(that.generateStatement(node, bodyFlags));
                }

                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>, iz = stmt.declarations.length; i &lt; iz; ++i) {
                    node = stmt.declarations[i];
                    <span class="hljs-keyword">if</span> (extra.comment &amp;&amp; node.leadingComments) {
                        result.push(<span class="hljs-string">','</span> + newline);
                        result.push(addIndent(that.generateStatement(node, bodyFlags)));
                    } <span class="hljs-keyword">else</span> {
                        result.push(<span class="hljs-string">','</span> + space);
                        result.push(that.generateStatement(node, bodyFlags));
                    }
                }
            }

            <span class="hljs-keyword">if</span> (stmt.declarations.length &gt; <span class="hljs-number">1</span>) {
                withIndent(block);
            } <span class="hljs-keyword">else</span> {
                block();
            }

            result.push(<span class="hljs-keyword">this</span>.semicolon(flags));

            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">ThrowStatement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">return</span> [join(
                <span class="hljs-string">'throw'</span>,
                <span class="hljs-keyword">this</span>.generateExpression(stmt.argument, Precedence.Sequence, E_TTT)
            ), <span class="hljs-keyword">this</span>.semicolon(flags)];
        },

        <span class="hljs-attr">TryStatement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result, i, iz, guardedHandlers;

            result = [<span class="hljs-string">'try'</span>, <span class="hljs-keyword">this</span>.maybeBlock(stmt.block, S_TFFF)];
            result = <span class="hljs-keyword">this</span>.maybeBlockSuffix(stmt.block, result);

            <span class="hljs-keyword">if</span> (stmt.handlers) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-54" id="section-54"></a>
</div>
<p>old interface</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, iz = stmt.handlers.length; i &lt; iz; ++i) {
                    result = join(result, <span class="hljs-keyword">this</span>.generateStatement(stmt.handlers[i], S_TFFF));
                    <span class="hljs-keyword">if</span> (stmt.finalizer || i + <span class="hljs-number">1</span> !== iz) {
                        result = <span class="hljs-keyword">this</span>.maybeBlockSuffix(stmt.handlers[i].body, result);
                    }
                }
            } <span class="hljs-keyword">else</span> {
                guardedHandlers = stmt.guardedHandlers || [];

                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, iz = guardedHandlers.length; i &lt; iz; ++i) {
                    result = join(result, <span class="hljs-keyword">this</span>.generateStatement(guardedHandlers[i], S_TFFF));
                    <span class="hljs-keyword">if</span> (stmt.finalizer || i + <span class="hljs-number">1</span> !== iz) {
                        result = <span class="hljs-keyword">this</span>.maybeBlockSuffix(guardedHandlers[i].body, result);
                    }
                }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-55" id="section-55"></a>
</div>
<p>new interface</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                <span class="hljs-keyword">if</span> (stmt.handler) {
                    <span class="hljs-keyword">if</span> (isArray(stmt.handler)) {
                        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, iz = stmt.handler.length; i &lt; iz; ++i) {
                            result = join(result, <span class="hljs-keyword">this</span>.generateStatement(stmt.handler[i], S_TFFF));
                            <span class="hljs-keyword">if</span> (stmt.finalizer || i + <span class="hljs-number">1</span> !== iz) {
                                result = <span class="hljs-keyword">this</span>.maybeBlockSuffix(stmt.handler[i].body, result);
                            }
                        }
                    } <span class="hljs-keyword">else</span> {
                        result = join(result, <span class="hljs-keyword">this</span>.generateStatement(stmt.handler, S_TFFF));
                        <span class="hljs-keyword">if</span> (stmt.finalizer) {
                            result = <span class="hljs-keyword">this</span>.maybeBlockSuffix(stmt.handler.body, result);
                        }
                    }
                }
            }
            <span class="hljs-keyword">if</span> (stmt.finalizer) {
                result = join(result, [<span class="hljs-string">'finally'</span>, <span class="hljs-keyword">this</span>.maybeBlock(stmt.finalizer, S_TFFF)]);
            }
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">SwitchStatement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result, fragment, i, iz, bodyFlags, that = <span class="hljs-keyword">this</span>;
            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                result = [
                    <span class="hljs-string">'switch'</span> + space + <span class="hljs-string">'('</span>,
                    that.generateExpression(stmt.discriminant, Precedence.Sequence, E_TTT),
                    <span class="hljs-string">')'</span> + space + <span class="hljs-string">'{'</span> + newline
                ];
            });
            <span class="hljs-keyword">if</span> (stmt.cases) {
                bodyFlags = S_TFFF;
                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, iz = stmt.cases.length; i &lt; iz; ++i) {
                    <span class="hljs-keyword">if</span> (i === iz - <span class="hljs-number">1</span>) {
                        bodyFlags |= F_SEMICOLON_OPT;
                    }
                    fragment = addIndent(<span class="hljs-keyword">this</span>.generateStatement(stmt.cases[i], bodyFlags));
                    result.push(fragment);
                    <span class="hljs-keyword">if</span> (!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {
                        result.push(newline);
                    }
                }
            }
            result.push(addIndent(<span class="hljs-string">'}'</span>));
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">SwitchCase</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result, fragment, i, iz, bodyFlags, that = <span class="hljs-keyword">this</span>;
            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">if</span> (stmt.test) {
                    result = [
                        join(<span class="hljs-string">'case'</span>, that.generateExpression(stmt.test, Precedence.Sequence, E_TTT)),
                        <span class="hljs-string">':'</span>
                    ];
                } <span class="hljs-keyword">else</span> {
                    result = [<span class="hljs-string">'default:'</span>];
                }

                i = <span class="hljs-number">0</span>;
                iz = stmt.consequent.length;
                <span class="hljs-keyword">if</span> (iz &amp;&amp; stmt.consequent[<span class="hljs-number">0</span>].type === Syntax.BlockStatement) {
                    fragment = that.maybeBlock(stmt.consequent[<span class="hljs-number">0</span>], S_TFFF);
                    result.push(fragment);
                    i = <span class="hljs-number">1</span>;
                }

                <span class="hljs-keyword">if</span> (i !== iz &amp;&amp; !endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                    result.push(newline);
                }

                bodyFlags = S_TFFF;
                <span class="hljs-keyword">for</span> (; i &lt; iz; ++i) {
                    <span class="hljs-keyword">if</span> (i === iz - <span class="hljs-number">1</span> &amp;&amp; flags &amp; F_SEMICOLON_OPT) {
                        bodyFlags |= F_SEMICOLON_OPT;
                    }
                    fragment = addIndent(that.generateStatement(stmt.consequent[i], bodyFlags));
                    result.push(fragment);
                    <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> !== iz &amp;&amp; !endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {
                        result.push(newline);
                    }
                }
            });
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">IfStatement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result, bodyFlags, semicolonOptional, that = <span class="hljs-keyword">this</span>;
            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                result = [
                    <span class="hljs-string">'if'</span> + space + <span class="hljs-string">'('</span>,
                    that.generateExpression(stmt.test, Precedence.Sequence, E_TTT),
                    <span class="hljs-string">')'</span>
                ];
            });
            semicolonOptional = flags &amp; F_SEMICOLON_OPT;
            bodyFlags = S_TFFF;
            <span class="hljs-keyword">if</span> (semicolonOptional) {
                bodyFlags |= F_SEMICOLON_OPT;
            }
            <span class="hljs-keyword">if</span> (stmt.alternate) {
                result.push(<span class="hljs-keyword">this</span>.maybeBlock(stmt.consequent, S_TFFF));
                result = <span class="hljs-keyword">this</span>.maybeBlockSuffix(stmt.consequent, result);
                <span class="hljs-keyword">if</span> (stmt.alternate.type === Syntax.IfStatement) {
                    result = join(result, [<span class="hljs-string">'else '</span>, <span class="hljs-keyword">this</span>.generateStatement(stmt.alternate, bodyFlags)]);
                } <span class="hljs-keyword">else</span> {
                    result = join(result, join(<span class="hljs-string">'else'</span>, <span class="hljs-keyword">this</span>.maybeBlock(stmt.alternate, bodyFlags)));
                }
            } <span class="hljs-keyword">else</span> {
                result.push(<span class="hljs-keyword">this</span>.maybeBlock(stmt.consequent, bodyFlags));
            }
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">ForStatement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result, that = <span class="hljs-keyword">this</span>;
            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                result = [<span class="hljs-string">'for'</span> + space + <span class="hljs-string">'('</span>];
                <span class="hljs-keyword">if</span> (stmt.init) {
                    <span class="hljs-keyword">if</span> (stmt.init.type === Syntax.VariableDeclaration) {
                        result.push(that.generateStatement(stmt.init, S_FFFF));
                    } <span class="hljs-keyword">else</span> {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-56" id="section-56"></a>
</div>
<p>F_ALLOW_IN becomes false.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                        result.push(that.generateExpression(stmt.init, Precedence.Sequence, E_FTT));
                        result.push(<span class="hljs-string">';'</span>);
                    }
                } <span class="hljs-keyword">else</span> {
                    result.push(<span class="hljs-string">';'</span>);
                }

                <span class="hljs-keyword">if</span> (stmt.test) {
                    result.push(space);
                    result.push(that.generateExpression(stmt.test, Precedence.Sequence, E_TTT));
                    result.push(<span class="hljs-string">';'</span>);
                } <span class="hljs-keyword">else</span> {
                    result.push(<span class="hljs-string">';'</span>);
                }

                <span class="hljs-keyword">if</span> (stmt.update) {
                    result.push(space);
                    result.push(that.generateExpression(stmt.update, Precedence.Sequence, E_TTT));
                    result.push(<span class="hljs-string">')'</span>);
                } <span class="hljs-keyword">else</span> {
                    result.push(<span class="hljs-string">')'</span>);
                }
            });

            result.push(<span class="hljs-keyword">this</span>.maybeBlock(stmt.body, flags &amp; F_SEMICOLON_OPT ? S_TFFT : S_TFFF));
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">ForInStatement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.generateIterationForStatement(<span class="hljs-string">'in'</span>, stmt, flags &amp; F_SEMICOLON_OPT ? S_TFFT : S_TFFF);
        },

        <span class="hljs-attr">ForOfStatement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.generateIterationForStatement(<span class="hljs-string">'of'</span>, stmt, flags &amp; F_SEMICOLON_OPT ? S_TFFT : S_TFFF);
        },

        <span class="hljs-attr">LabeledStatement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">return</span> [stmt.label.name + <span class="hljs-string">':'</span>, <span class="hljs-keyword">this</span>.maybeBlock(stmt.body, flags &amp; F_SEMICOLON_OPT ? S_TFFT : S_TFFF)];
        },

        <span class="hljs-attr">Program</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result, fragment, i, iz, bodyFlags;
            iz = stmt.body.length;
            result = [safeConcatenation &amp;&amp; iz &gt; <span class="hljs-number">0</span> ? <span class="hljs-string">'\n'</span> : <span class="hljs-string">''</span>];
            bodyFlags = S_TFTF;
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; iz; ++i) {
                <span class="hljs-keyword">if</span> (!safeConcatenation &amp;&amp; i === iz - <span class="hljs-number">1</span>) {
                    bodyFlags |= F_SEMICOLON_OPT;
                }

                <span class="hljs-keyword">if</span> (preserveBlankLines) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-57" id="section-57"></a>
</div>
<p>handle spaces before the first line</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                    <span class="hljs-keyword">if</span> (i === <span class="hljs-number">0</span>) {
                        <span class="hljs-keyword">if</span> (!stmt.body[<span class="hljs-number">0</span>].leadingComments) {
                            generateBlankLines(stmt.range[<span class="hljs-number">0</span>], stmt.body[i].range[<span class="hljs-number">0</span>], result);
                        }
                    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-58" id="section-58"></a>
</div>
<p>handle spaces between lines</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                    <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span>) {
                        <span class="hljs-keyword">if</span> (!stmt.body[i - <span class="hljs-number">1</span>].trailingComments &amp;&amp; !stmt.body[i].leadingComments) {
                            generateBlankLines(stmt.body[i - <span class="hljs-number">1</span>].range[<span class="hljs-number">1</span>], stmt.body[i].range[<span class="hljs-number">0</span>], result);
                        }
                    }
                }

                fragment = addIndent(<span class="hljs-keyword">this</span>.generateStatement(stmt.body[i], bodyFlags));
                result.push(fragment);
                <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; iz &amp;&amp; !endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {
                    <span class="hljs-keyword">if</span> (preserveBlankLines) {
                        <span class="hljs-keyword">if</span> (!stmt.body[i + <span class="hljs-number">1</span>].leadingComments) {
                            result.push(newline);
                        }
                    } <span class="hljs-keyword">else</span> {
                        result.push(newline);
                    }
                }

                <span class="hljs-keyword">if</span> (preserveBlankLines) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-59" id="section-59"></a>
</div>
<p>handle spaces after the last line</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                    <span class="hljs-keyword">if</span> (i === iz - <span class="hljs-number">1</span>) {
                        <span class="hljs-keyword">if</span> (!stmt.body[i].trailingComments) {
                            generateBlankLines(stmt.body[i].range[<span class="hljs-number">1</span>], stmt.range[<span class="hljs-number">1</span>], result);
                        }
                    }
                }
            }
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">FunctionDeclaration</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">return</span> [
                generateAsyncPrefix(stmt, <span class="hljs-literal">true</span>),
                <span class="hljs-string">'function'</span>,
                generateStarSuffix(stmt) || noEmptySpace(),
                stmt.id ? generateIdentifier(stmt.id) : <span class="hljs-string">''</span>,
                <span class="hljs-keyword">this</span>.generateFunctionBody(stmt)
            ];
        },

        <span class="hljs-attr">ReturnStatement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">if</span> (stmt.argument) {
                <span class="hljs-keyword">return</span> [join(
                    <span class="hljs-string">'return'</span>,
                    <span class="hljs-keyword">this</span>.generateExpression(stmt.argument, Precedence.Sequence, E_TTT)
                ), <span class="hljs-keyword">this</span>.semicolon(flags)];
            }
            <span class="hljs-keyword">return</span> [<span class="hljs-string">'return'</span> + <span class="hljs-keyword">this</span>.semicolon(flags)];
        },

        <span class="hljs-attr">WhileStatement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result, that = <span class="hljs-keyword">this</span>;
            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                result = [
                    <span class="hljs-string">'while'</span> + space + <span class="hljs-string">'('</span>,
                    that.generateExpression(stmt.test, Precedence.Sequence, E_TTT),
                    <span class="hljs-string">')'</span>
                ];
            });
            result.push(<span class="hljs-keyword">this</span>.maybeBlock(stmt.body, flags &amp; F_SEMICOLON_OPT ? S_TFFT : S_TFFF));
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">WithStatement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result, that = <span class="hljs-keyword">this</span>;
            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                result = [
                    <span class="hljs-string">'with'</span> + space + <span class="hljs-string">'('</span>,
                    that.generateExpression(stmt.object, Precedence.Sequence, E_TTT),
                    <span class="hljs-string">')'</span>
                ];
            });
            result.push(<span class="hljs-keyword">this</span>.maybeBlock(stmt.body, flags &amp; F_SEMICOLON_OPT ? S_TFFT : S_TFFF));
            <span class="hljs-keyword">return</span> result;
        }

    };

    merge(CodeGenerator.prototype, CodeGenerator.Statement);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-60" id="section-60"></a>
</div>
<p>Expressions.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
    CodeGenerator.Expression = {

        <span class="hljs-attr">SequenceExpression</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result, i, iz;
            <span class="hljs-keyword">if</span> (Precedence.Sequence &lt; precedence) {
                flags |= F_ALLOW_IN;
            }
            result = [];
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, iz = expr.expressions.length; i &lt; iz; ++i) {
                result.push(<span class="hljs-keyword">this</span>.generateExpression(expr.expressions[i], Precedence.Assignment, flags));
                <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; iz) {
                    result.push(<span class="hljs-string">','</span> + space);
                }
            }
            <span class="hljs-keyword">return</span> parenthesize(result, Precedence.Sequence, precedence);
        },

        <span class="hljs-attr">AssignmentExpression</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.generateAssignment(expr.left, expr.right, expr.operator, precedence, flags);
        },

        <span class="hljs-attr">ArrowFunctionExpression</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">return</span> parenthesize(<span class="hljs-keyword">this</span>.generateFunctionBody(expr), Precedence.ArrowFunction, precedence);
        },

        <span class="hljs-attr">ConditionalExpression</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">if</span> (Precedence.Conditional &lt; precedence) {
                flags |= F_ALLOW_IN;
            }
            <span class="hljs-keyword">return</span> parenthesize(
                [
                    <span class="hljs-keyword">this</span>.generateExpression(expr.test, Precedence.LogicalOR, flags),
                    space + <span class="hljs-string">'?'</span> + space,
                    <span class="hljs-keyword">this</span>.generateExpression(expr.consequent, Precedence.Assignment, flags),
                    space + <span class="hljs-string">':'</span> + space,
                    <span class="hljs-keyword">this</span>.generateExpression(expr.alternate, Precedence.Assignment, flags)
                ],
                Precedence.Conditional,
                precedence
            );
        },

        <span class="hljs-attr">LogicalExpression</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.BinaryExpression(expr, precedence, flags);
        },

        <span class="hljs-attr">BinaryExpression</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result, currentPrecedence, fragment, leftSource;
            currentPrecedence = BinaryPrecedence[expr.operator];

            <span class="hljs-keyword">if</span> (currentPrecedence &lt; precedence) {
                flags |= F_ALLOW_IN;
            }

            fragment = <span class="hljs-keyword">this</span>.generateExpression(expr.left, currentPrecedence, flags);

            leftSource = fragment.toString();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-61" id="section-61"></a>
</div>
<div class="dox">
<div class="summary">
<p>if (leftSource.charCodeAt(leftSource.length - 1) === 0x2F    /    &amp;&amp; esutils.code.isIdentifierPartES5(expr.operator.charCodeAt(0))) {
result = [fragment, noEmptySpace(), expr.operator];
} else {
result = join(fragment, expr.operator);
}</p>
</div>
<div class="body">
<p>fragment = this.generateExpression(expr.right, currentPrecedence + 1, flags);</p>
<p>if (expr.operator === '/' &amp;&amp; fragment.toString().charAt(0) === '/' ||
expr.operator.slice(-1) === '&lt;' &amp;&amp; fragment.toString().slice(0, 3) === '!--') {
// If '/' concats with '/' or <code>&lt;</code> concats with <code>!--</code>, it is interpreted as comment start
result.push(noEmptySpace());
result.push(fragment);
} else {
result = join(result, fragment);
}</p>
<p>if (expr.operator === 'in' &amp;&amp; !(flags &amp; F_ALLOW_IN)) {
return ['(', result, ')'];
}
return parenthesize(result, currentPrecedence, precedence);
},</p>
<p>CallExpression: function (expr, precedence, flags) {
var result, i, iz;
// F_ALLOW_UNPARATH_NEW becomes false.
result = [this.generateExpression(expr.callee, Precedence.Call, E_TTF)];
result.push('(');
for (i = 0, iz = expr['arguments'].length; i &lt; iz; ++i) {
result.push(this.generateExpression(expr['arguments'][i], Precedence.Assignment, E_TTT));
if (i + 1 &lt; iz) {
result.push(',' + space);
}
}
result.push(')');</p>
<p>if (!(flags &amp; F_ALLOW_CALL)) {
return ['(', result, ')'];
}
return parenthesize(result, Precedence.Call, precedence);
},</p>
<p>NewExpression: function (expr, precedence, flags) {
var result, length, i, iz, itemFlags;
length = expr['arguments'].length;</p>
<p>// F_ALLOW_CALL becomes false.
// F_ALLOW_UNPARATH_NEW may become false.
itemFlags = (flags &amp; F_ALLOW_UNPARATH_NEW &amp;&amp; !parentheses &amp;&amp; length === 0) ? E_TFT : E_TFF;</p>
<p>result = join(
'new',
this.generateExpression(expr.callee, Precedence.New, itemFlags)
);</p>
<p>if (!(flags &amp; F_ALLOW_UNPARATH_NEW) || parentheses || length &gt; 0) {
result.push('(');
for (i = 0, iz = length; i &lt; iz; ++i) {
result.push(this.generateExpression(expr['arguments'][i], Precedence.Assignment, E_TTT));
if (i + 1 &lt; iz) {
result.push(',' + space);
}
}
result.push(')');
}</p>
<p>return parenthesize(result, Precedence.New, precedence);
},</p>
<p>MemberExpression: function (expr, precedence, flags) {
var result, fragment;</p>
<p>// F_ALLOW_UNPARATH_NEW becomes false.
result = [this.generateExpression(expr.object, Precedence.Call, (flags &amp; F_ALLOW_CALL) ? E_TTF : E_TFF)];</p>
<p>if (expr.computed) {
result.push('[');
result.push(this.generateExpression(expr.property, Precedence.Sequence, flags &amp; F_ALLOW_CALL ? E_TTT : E_TFT));
result.push(']');
} else {
if (expr.object.type === Syntax.Literal &amp;&amp; typeof expr.object.value === 'number') {
fragment = toSourceNodeWhenNeeded(result).toString();
// When the following conditions are all true,
//   1. No floating point
//   2. Don't have exponents
//   3. The last character is a decimal digit
//   4. Not hexadecimal OR octal number literal
// we should add a floating point.
if (
fragment.indexOf('.') &lt; 0 &amp;&amp;
!/[eExX]/.test(fragment) &amp;&amp;
esutils.code.isDecimalDigit(fragment.charCodeAt(fragment.length - 1)) &amp;&amp;
!(fragment.length &gt;= 2 &amp;&amp; fragment.charCodeAt(0) === 48)  // '0'
) {
result.push(' ');
}
}
result.push('.');
result.push(generateIdentifier(expr.property));
}</p>
<p>return parenthesize(result, Precedence.Member, precedence);
},</p>
<p>MetaProperty: function (expr, precedence, flags) {
var result;
result = [];
result.push(expr.meta);
result.push('.');
result.push(expr.property);
return parenthesize(result, Precedence.Member, precedence);
},</p>
<p>UnaryExpression: function (expr, precedence, flags) {
var result, fragment, rightCharCode, leftSource, leftCharCode;
fragment = this.generateExpression(expr.argument, Precedence.Unary, E_TTT);</p>
<p>if (space === '') {
result = join(expr.operator, fragment);
} else {
result = [expr.operator];
if (expr.operator.length &gt; 2) {
// delete, void, typeof
// get <code>typeof []</code>, not <code>typeof[]</code>
result = join(result, fragment);
} else {
// Prevent inserting spaces between operator and argument if it is unnecessary
// like, <code>!cond</code>
leftSource = toSourceNodeWhenNeeded(result).toString();
leftCharCode = leftSource.charCodeAt(leftSource.length - 1);
rightCharCode = fragment.toString().charCodeAt(0);</p>
<p>if (((leftCharCode === 0x2B  /* + <em>/ || leftCharCode === 0x2D  /</em> - */) &amp;&amp; leftCharCode === rightCharCode) ||</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">                            (esutils.code.isIdentifierPartES5(leftCharCode) &amp;&amp; esutils.code.isIdentifierPartES5(rightCharCode))) {
                        result.push(noEmptySpace());
                        result.push(fragment);
                    } <span class="hljs-keyword">else</span> {
                        result.push(fragment);
                    }
                }
            }
            <span class="hljs-keyword">return</span> parenthesize(result, Precedence.Unary, precedence);
        },

        <span class="hljs-attr">YieldExpression</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result;
            <span class="hljs-keyword">if</span> (expr.delegate) {
                result = <span class="hljs-string">'yield*'</span>;
            } <span class="hljs-keyword">else</span> {
                result = <span class="hljs-string">'yield'</span>;
            }
            <span class="hljs-keyword">if</span> (expr.argument) {
                result = join(
                    result,
                    <span class="hljs-keyword">this</span>.generateExpression(expr.argument, Precedence.Yield, E_TTT)
                );
            }
            <span class="hljs-keyword">return</span> parenthesize(result, Precedence.Yield, precedence);
        },

        <span class="hljs-attr">AwaitExpression</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result = join(
                expr.all ? <span class="hljs-string">'await*'</span> : <span class="hljs-string">'await'</span>,
                <span class="hljs-keyword">this</span>.generateExpression(expr.argument, Precedence.Await, E_TTT)
            );
            <span class="hljs-keyword">return</span> parenthesize(result, Precedence.Await, precedence);
        },

        <span class="hljs-attr">UpdateExpression</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">if</span> (expr.prefix) {
                <span class="hljs-keyword">return</span> parenthesize(
                    [
                        expr.operator,
                        <span class="hljs-keyword">this</span>.generateExpression(expr.argument, Precedence.Unary, E_TTT)
                    ],
                    Precedence.Unary,
                    precedence
                );
            }
            <span class="hljs-keyword">return</span> parenthesize(
                [
                    <span class="hljs-keyword">this</span>.generateExpression(expr.argument, Precedence.Postfix, E_TTT),
                    expr.operator
                ],
                Precedence.Postfix,
                precedence
            );
        },

        <span class="hljs-attr">FunctionExpression</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result = [
                generateAsyncPrefix(expr, <span class="hljs-literal">true</span>),
                <span class="hljs-string">'function'</span>
            ];
            <span class="hljs-keyword">if</span> (expr.id) {
                result.push(generateStarSuffix(expr) || noEmptySpace());
                result.push(generateIdentifier(expr.id));
            } <span class="hljs-keyword">else</span> {
                result.push(generateStarSuffix(expr) || space);
            }
            result.push(<span class="hljs-keyword">this</span>.generateFunctionBody(expr));
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">ArrayPattern</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.ArrayExpression(expr, precedence, flags, <span class="hljs-literal">true</span>);
        },

        <span class="hljs-attr">ArrayExpression</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags, isPattern</span>) </span>{
            <span class="hljs-keyword">var</span> result, multiline, that = <span class="hljs-keyword">this</span>;
            <span class="hljs-keyword">if</span> (!expr.elements.length) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">'[]'</span>;
            }
            multiline = isPattern ? <span class="hljs-literal">false</span> : expr.elements.length &gt; <span class="hljs-number">1</span>;
            result = [<span class="hljs-string">'['</span>, multiline ? newline : <span class="hljs-string">''</span>];
            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">indent</span>) </span>{
                <span class="hljs-keyword">var</span> i, iz;
                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, iz = expr.elements.length; i &lt; iz; ++i) {
                    <span class="hljs-keyword">if</span> (!expr.elements[i]) {
                        <span class="hljs-keyword">if</span> (multiline) {
                            result.push(indent);
                        }
                        <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> === iz) {
                            result.push(<span class="hljs-string">','</span>);
                        }
                    } <span class="hljs-keyword">else</span> {
                        result.push(multiline ? indent : <span class="hljs-string">''</span>);
                        result.push(that.generateExpression(expr.elements[i], Precedence.Assignment, E_TTT));
                    }
                    <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; iz) {
                        result.push(<span class="hljs-string">','</span> + (multiline ? newline : space));
                    }
                }
            });
            <span class="hljs-keyword">if</span> (multiline &amp;&amp; !endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                result.push(newline);
            }
            result.push(multiline ? base : <span class="hljs-string">''</span>);
            result.push(<span class="hljs-string">']'</span>);
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">RestElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-string">'...'</span> + <span class="hljs-keyword">this</span>.generatePattern(expr.argument);
        },

        <span class="hljs-attr">ClassExpression</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result, fragment;
            result = [<span class="hljs-string">'class'</span>];
            <span class="hljs-keyword">if</span> (expr.id) {
                result = join(result, <span class="hljs-keyword">this</span>.generateExpression(expr.id, Precedence.Sequence, E_TTT));
            }
            <span class="hljs-keyword">if</span> (expr.superClass) {
                fragment = join(<span class="hljs-string">'extends'</span>, <span class="hljs-keyword">this</span>.generateExpression(expr.superClass, Precedence.Assignment, E_TTT));
                result = join(result, fragment);
            }
            result.push(space);
            result.push(<span class="hljs-keyword">this</span>.generateStatement(expr.body, S_TFFT));
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">MethodDefinition</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result, fragment;
            <span class="hljs-keyword">if</span> (expr[<span class="hljs-string">'static'</span>]) {
                result = [<span class="hljs-string">'static'</span> + space];
            } <span class="hljs-keyword">else</span> {
                result = [];
            }
            <span class="hljs-keyword">if</span> (expr.kind === <span class="hljs-string">'get'</span> || expr.kind === <span class="hljs-string">'set'</span>) {
                fragment = [
                    join(expr.kind, <span class="hljs-keyword">this</span>.generatePropertyKey(expr.key, expr.computed, expr.value)),
                    <span class="hljs-keyword">this</span>.generateFunctionBody(expr.value)
                ];
            } <span class="hljs-keyword">else</span> {
                fragment = [
                    generateMethodPrefix(expr),
                    <span class="hljs-keyword">this</span>.generatePropertyKey(expr.key, expr.computed, expr.value),
                    <span class="hljs-keyword">this</span>.generateFunctionBody(expr.value)
                ];
            }
            <span class="hljs-keyword">return</span> join(result, fragment);
        },

        <span class="hljs-attr">Property</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">if</span> (expr.kind === <span class="hljs-string">'get'</span> || expr.kind === <span class="hljs-string">'set'</span>) {
                <span class="hljs-keyword">return</span> [
                    expr.kind, noEmptySpace(),
                    <span class="hljs-keyword">this</span>.generatePropertyKey(expr.key, expr.computed, expr.value),
                    <span class="hljs-keyword">this</span>.generateFunctionBody(expr.value)
                ];
            }

            <span class="hljs-keyword">if</span> (expr.shorthand) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.generatePropertyKey(expr.key, expr.computed, expr.value);
            }

            <span class="hljs-keyword">if</span> (expr.method) {
                <span class="hljs-keyword">return</span> [
                    generateMethodPrefix(expr),
                    <span class="hljs-keyword">this</span>.generatePropertyKey(expr.key, expr.computed, expr.value),
                    <span class="hljs-keyword">this</span>.generateFunctionBody(expr.value)
                ];
            }

            <span class="hljs-keyword">return</span> [
                <span class="hljs-keyword">this</span>.generatePropertyKey(expr.key, expr.computed, expr.value),
                <span class="hljs-string">':'</span> + space,
                <span class="hljs-keyword">this</span>.generateExpression(expr.value, Precedence.Assignment, E_TTT)
            ];
        },

        <span class="hljs-attr">ObjectExpression</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">var</span> multiline, result, fragment, that = <span class="hljs-keyword">this</span>;

            <span class="hljs-keyword">if</span> (!expr.properties.length) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">'{}'</span>;
            }
            multiline = expr.properties.length &gt; <span class="hljs-number">1</span>;

            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                fragment = that.generateExpression(expr.properties[<span class="hljs-number">0</span>], Precedence.Sequence, E_TTT);
            });

            <span class="hljs-keyword">if</span> (!multiline) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-62" id="section-62"></a>
</div>
<p>issues 4
Do not transform from
dejavu.Class.declare({
method2: function () {}
});
to
dejavu.Class.declare({method2: function () {
}});</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                <span class="hljs-keyword">if</span> (!hasLineTerminator(toSourceNodeWhenNeeded(fragment).toString())) {
                    <span class="hljs-keyword">return</span> [ <span class="hljs-string">'{'</span>, space, fragment, space, <span class="hljs-string">'}'</span> ];
                }
            }

            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">indent</span>) </span>{
                <span class="hljs-keyword">var</span> i, iz;
                result = [ <span class="hljs-string">'{'</span>, newline, indent, fragment ];

                <span class="hljs-keyword">if</span> (multiline) {
                    result.push(<span class="hljs-string">','</span> + newline);
                    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>, iz = expr.properties.length; i &lt; iz; ++i) {
                        result.push(indent);
                        result.push(that.generateExpression(expr.properties[i], Precedence.Sequence, E_TTT));
                        <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; iz) {
                            result.push(<span class="hljs-string">','</span> + newline);
                        }
                    }
                }
            });

            <span class="hljs-keyword">if</span> (!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                result.push(newline);
            }
            result.push(base);
            result.push(<span class="hljs-string">'}'</span>);
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">AssignmentPattern</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.generateAssignment(expr.left, expr.right, <span class="hljs-string">'='</span>, precedence, flags);
        },

        <span class="hljs-attr">ObjectPattern</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result, i, iz, multiline, property, that = <span class="hljs-keyword">this</span>;
            <span class="hljs-keyword">if</span> (!expr.properties.length) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">'{}'</span>;
            }

            multiline = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">if</span> (expr.properties.length === <span class="hljs-number">1</span>) {
                property = expr.properties[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">if</span> (property.value.type !== Syntax.Identifier) {
                    multiline = <span class="hljs-literal">true</span>;
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, iz = expr.properties.length; i &lt; iz; ++i) {
                    property = expr.properties[i];
                    <span class="hljs-keyword">if</span> (!property.shorthand) {
                        multiline = <span class="hljs-literal">true</span>;
                        <span class="hljs-keyword">break</span>;
                    }
                }
            }
            result = [<span class="hljs-string">'{'</span>, multiline ? newline : <span class="hljs-string">''</span> ];

            withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">indent</span>) </span>{
                <span class="hljs-keyword">var</span> i, iz;
                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, iz = expr.properties.length; i &lt; iz; ++i) {
                    result.push(multiline ? indent : <span class="hljs-string">''</span>);
                    result.push(that.generateExpression(expr.properties[i], Precedence.Sequence, E_TTT));
                    <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; iz) {
                        result.push(<span class="hljs-string">','</span> + (multiline ? newline : space));
                    }
                }
            });

            <span class="hljs-keyword">if</span> (multiline &amp;&amp; !endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())) {
                result.push(newline);
            }
            result.push(multiline ? base : <span class="hljs-string">''</span>);
            result.push(<span class="hljs-string">'}'</span>);
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">ThisExpression</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-string">'this'</span>;
        },

        <span class="hljs-attr">Super</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-string">'super'</span>;
        },

        <span class="hljs-attr">Identifier</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">return</span> generateIdentifier(expr);
        },

        <span class="hljs-attr">ImportDefaultSpecifier</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">return</span> generateIdentifier(expr.id || expr.local);
        },

        <span class="hljs-attr">ImportNamespaceSpecifier</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result = [<span class="hljs-string">'*'</span>];
            <span class="hljs-keyword">var</span> id = expr.id || expr.local;
            <span class="hljs-keyword">if</span> (id) {
                result.push(space + <span class="hljs-string">'as'</span> + noEmptySpace() + generateIdentifier(id));
            }
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">ImportSpecifier</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">var</span> imported = expr.imported;
            <span class="hljs-keyword">var</span> result = [ imported.name ];
            <span class="hljs-keyword">var</span> local = expr.local;
            <span class="hljs-keyword">if</span> (local &amp;&amp; local.name !== imported.name) {
                result.push(noEmptySpace() + <span class="hljs-string">'as'</span> + noEmptySpace() + generateIdentifier(local));
            }
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">ExportSpecifier</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">var</span> local = expr.local;
            <span class="hljs-keyword">var</span> result = [ local.name ];
            <span class="hljs-keyword">var</span> exported = expr.exported;
            <span class="hljs-keyword">if</span> (exported &amp;&amp; exported.name !== local.name) {
                result.push(noEmptySpace() + <span class="hljs-string">'as'</span> + noEmptySpace() + generateIdentifier(exported));
            }
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">Literal</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">var</span> raw;
            <span class="hljs-keyword">if</span> (expr.hasOwnProperty(<span class="hljs-string">'raw'</span>) &amp;&amp; parse &amp;&amp; extra.raw) {
                <span class="hljs-keyword">try</span> {
                    raw = parse(expr.raw).body[<span class="hljs-number">0</span>].expression;
                    <span class="hljs-keyword">if</span> (raw.type === Syntax.Literal) {
                        <span class="hljs-keyword">if</span> (raw.value === expr.value) {
                            <span class="hljs-keyword">return</span> expr.raw;
                        }
                    }
                } <span class="hljs-keyword">catch</span> (e) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-63" id="section-63"></a>
</div>
<p>not use raw property</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                }
            }

            <span class="hljs-keyword">if</span> (expr.value === <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">'null'</span>;
            }

            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> expr.value === <span class="hljs-string">'string'</span>) {
                <span class="hljs-keyword">return</span> escapeString(expr.value);
            }

            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> expr.value === <span class="hljs-string">'number'</span>) {
                <span class="hljs-keyword">return</span> generateNumber(expr.value);
            }

            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> expr.value === <span class="hljs-string">'boolean'</span>) {
                <span class="hljs-keyword">return</span> expr.value ? <span class="hljs-string">'true'</span> : <span class="hljs-string">'false'</span>;
            }

            <span class="hljs-keyword">if</span> (expr.regex) {
              <span class="hljs-keyword">return</span> <span class="hljs-string">'/'</span> + expr.regex.pattern + <span class="hljs-string">'/'</span> + expr.regex.flags;
            }
            <span class="hljs-keyword">return</span> generateRegExp(expr.value);
        },

        <span class="hljs-attr">GeneratorExpression</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.ComprehensionExpression(expr, precedence, flags);
        },

        <span class="hljs-attr">ComprehensionExpression</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-64" id="section-64"></a>
</div>
<p>GeneratorExpression should be parenthesized with (...), ComprehensionExpression with [...]
Due to https://bugzilla.mozilla.org/show_bug.cgi?id=883468 position of expr.body can differ in Spidermonkey and ES6</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
            <span class="hljs-keyword">var</span> result, i, iz, fragment, that = <span class="hljs-keyword">this</span>;
            result = (expr.type === Syntax.GeneratorExpression) ? [<span class="hljs-string">'('</span>] : [<span class="hljs-string">'['</span>];

            <span class="hljs-keyword">if</span> (extra.moz.comprehensionExpressionStartsWithAssignment) {
                fragment = <span class="hljs-keyword">this</span>.generateExpression(expr.body, Precedence.Assignment, E_TTT);
                result.push(fragment);
            }

            <span class="hljs-keyword">if</span> (expr.blocks) {
                withIndent(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, iz = expr.blocks.length; i &lt; iz; ++i) {
                        fragment = that.generateExpression(expr.blocks[i], Precedence.Sequence, E_TTT);
                        <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span> || extra.moz.comprehensionExpressionStartsWithAssignment) {
                            result = join(result, fragment);
                        } <span class="hljs-keyword">else</span> {
                            result.push(fragment);
                        }
                    }
                });
            }

            <span class="hljs-keyword">if</span> (expr.filter) {
                result = join(result, <span class="hljs-string">'if'</span> + space);
                fragment = <span class="hljs-keyword">this</span>.generateExpression(expr.filter, Precedence.Sequence, E_TTT);
                result = join(result, [ <span class="hljs-string">'('</span>, fragment, <span class="hljs-string">')'</span> ]);
            }

            <span class="hljs-keyword">if</span> (!extra.moz.comprehensionExpressionStartsWithAssignment) {
                fragment = <span class="hljs-keyword">this</span>.generateExpression(expr.body, Precedence.Assignment, E_TTT);

                result = join(result, fragment);
            }

            result.push((expr.type === Syntax.GeneratorExpression) ? <span class="hljs-string">')'</span> : <span class="hljs-string">']'</span>);
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">ComprehensionBlock</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">var</span> fragment;
            <span class="hljs-keyword">if</span> (expr.left.type === Syntax.VariableDeclaration) {
                fragment = [
                    expr.left.kind, noEmptySpace(),
                    <span class="hljs-keyword">this</span>.generateStatement(expr.left.declarations[<span class="hljs-number">0</span>], S_FFFF)
                ];
            } <span class="hljs-keyword">else</span> {
                fragment = <span class="hljs-keyword">this</span>.generateExpression(expr.left, Precedence.Call, E_TTT);
            }

            fragment = join(fragment, expr.of ? <span class="hljs-string">'of'</span> : <span class="hljs-string">'in'</span>);
            fragment = join(fragment, <span class="hljs-keyword">this</span>.generateExpression(expr.right, Precedence.Sequence, E_TTT));

            <span class="hljs-keyword">return</span> [ <span class="hljs-string">'for'</span> + space + <span class="hljs-string">'('</span>, fragment, <span class="hljs-string">')'</span> ];
        },

        <span class="hljs-attr">SpreadElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">return</span> [
                <span class="hljs-string">'...'</span>,
                <span class="hljs-keyword">this</span>.generateExpression(expr.argument, Precedence.Assignment, E_TTT)
            ];
        },

        <span class="hljs-attr">TaggedTemplateExpression</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">var</span> itemFlags = E_TTF;
            <span class="hljs-keyword">if</span> (!(flags &amp; F_ALLOW_CALL)) {
                itemFlags = E_TFF;
            }
            <span class="hljs-keyword">var</span> result = [
                <span class="hljs-keyword">this</span>.generateExpression(expr.tag, Precedence.Call, itemFlags),
                <span class="hljs-keyword">this</span>.generateExpression(expr.quasi, Precedence.Primary, E_FFT)
            ];
            <span class="hljs-keyword">return</span> parenthesize(result, Precedence.TaggedTemplate, precedence);
        },

        <span class="hljs-attr">TemplateElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-65" id="section-65"></a>
</div>
<p>Don't use &quot;cooked&quot;. Since tagged template can use raw template
representation. So if we do so, it breaks the script semantics.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">return</span> expr.value.raw;
        },

        <span class="hljs-attr">TemplateLiteral</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">var</span> result, i, iz;
            result = [ <span class="hljs-string">'`'</span> ];
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, iz = expr.quasis.length; i &lt; iz; ++i) {
                result.push(<span class="hljs-keyword">this</span>.generateExpression(expr.quasis[i], Precedence.Primary, E_TTT));
                <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; iz) {
                    result.push(<span class="hljs-string">'${'</span> + space);
                    result.push(<span class="hljs-keyword">this</span>.generateExpression(expr.expressions[i], Precedence.Sequence, E_TTT));
                    result.push(space + <span class="hljs-string">'}'</span>);
                }
            }
            result.push(<span class="hljs-string">'`'</span>);
            <span class="hljs-keyword">return</span> result;
        },

        <span class="hljs-attr">ModuleSpecifier</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.Literal(expr, precedence, flags);
        }

    };

    merge(CodeGenerator.prototype, CodeGenerator.Expression);

    CodeGenerator.prototype.generateExpression = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expr, precedence, flags</span>) </span>{
        <span class="hljs-keyword">var</span> result, type;

        type = expr.type || Syntax.Property;

        <span class="hljs-keyword">if</span> (extra.verbatim &amp;&amp; expr.hasOwnProperty(extra.verbatim)) {
            <span class="hljs-keyword">return</span> generateVerbatim(expr, precedence);
        }

        result = <span class="hljs-keyword">this</span>[type](expr, precedence, flags);


        <span class="hljs-keyword">if</span> (extra.comment) {
            result = addComments(expr, result);
        }
        <span class="hljs-keyword">return</span> toSourceNodeWhenNeeded(result, expr);
    };

    CodeGenerator.prototype.generateStatement = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">stmt, flags</span>) </span>{
        <span class="hljs-keyword">var</span> result,
            fragment;

        result = <span class="hljs-keyword">this</span>[stmt.type](stmt, flags);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-66" id="section-66"></a>
</div>
<p>Attach comments</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
        <span class="hljs-keyword">if</span> (extra.comment) {
            result = addComments(stmt, result);
        }

        fragment = toSourceNodeWhenNeeded(result).toString();
        <span class="hljs-keyword">if</span> (stmt.type === Syntax.Program &amp;&amp; !safeConcatenation &amp;&amp; newline === <span class="hljs-string">''</span> &amp;&amp;  fragment.charAt(fragment.length - <span class="hljs-number">1</span>) === <span class="hljs-string">'\n'</span>) {
            result = sourceMap ? toSourceNodeWhenNeeded(result).replaceRight(<span class="hljs-regexp">/\s+$/</span>, <span class="hljs-string">''</span>) : fragment.replace(<span class="hljs-regexp">/\s+$/</span>, <span class="hljs-string">''</span>);
        }

        <span class="hljs-keyword">return</span> toSourceNodeWhenNeeded(result, stmt);
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateInternal</span>(<span class="hljs-params">node</span>) </span>{
        <span class="hljs-keyword">var</span> codegen;

        codegen = <span class="hljs-keyword">new</span> CodeGenerator();
        <span class="hljs-keyword">if</span> (isStatement(node)) {
            <span class="hljs-keyword">return</span> codegen.generateStatement(node, S_TFFF);
        }

        <span class="hljs-keyword">if</span> (isExpression(node)) {
            <span class="hljs-keyword">return</span> codegen.generateExpression(node, Precedence.Sequence, E_TTT);
        }

        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Unknown node type: '</span> + node.type);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generate</span>(<span class="hljs-params">node, options</span>) </span>{
        <span class="hljs-keyword">var</span> defaultOptions = getDefaultOptions(), result, pair;

        <span class="hljs-keyword">if</span> (options != <span class="hljs-literal">null</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-67" id="section-67"></a>
</div>
<p>Obsolete options</p>
<p><code>options.indent</code>
<code>options.base</code></p>
<p>Instead of them, we can use <code>option.format.indent</code>.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options.indent === <span class="hljs-string">'string'</span>) {
                defaultOptions.format.indent.style = options.indent;
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options.base === <span class="hljs-string">'number'</span>) {
                defaultOptions.format.indent.base = options.base;
            }
            options = updateDeeply(defaultOptions, options);
            indent = options.format.indent.style;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options.base === <span class="hljs-string">'string'</span>) {
                base = options.base;
            } <span class="hljs-keyword">else</span> {
                base = stringRepeat(indent, options.format.indent.base);
            }
        } <span class="hljs-keyword">else</span> {
            options = defaultOptions;
            indent = options.format.indent.style;
            base = stringRepeat(indent, options.format.indent.base);
        }
        json = options.format.json;
        renumber = options.format.renumber;
        hexadecimal = json ? <span class="hljs-literal">false</span> : options.format.hexadecimal;
        quotes = json ? <span class="hljs-string">'double'</span> : options.format.quotes;
        escapeless = options.format.escapeless;
        newline = options.format.newline;
        space = options.format.space;
        <span class="hljs-keyword">if</span> (options.format.compact) {
            newline = space = indent = base = <span class="hljs-string">''</span>;
        }
        parentheses = options.format.parentheses;
        semicolons = options.format.semicolons;
        safeConcatenation = options.format.safeConcatenation;
        directive = options.directive;
        parse = json ? <span class="hljs-literal">null</span> : options.parse;
        sourceMap = options.sourceMap;
        sourceCode = options.sourceCode;
        preserveBlankLines = options.format.preserveBlankLines &amp;&amp; sourceCode !== <span class="hljs-literal">null</span>;
        extra = options;

        <span class="hljs-keyword">if</span> (sourceMap) {
            <span class="hljs-keyword">if</span> (!exports.browser) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-68" id="section-68"></a>
</div>
<p>We assume environment is node.js
And prevent from including source-map by browserify</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                SourceNode = <span class="hljs-built_in">require</span>(<span class="hljs-string">'source-map'</span>).SourceNode;
            } <span class="hljs-keyword">else</span> {
                SourceNode = global.sourceMap.SourceNode;
            }
        }

        result = generateInternal(node);

        <span class="hljs-keyword">if</span> (!sourceMap) {
            pair = {<span class="hljs-attr">code</span>: result.toString(), <span class="hljs-attr">map</span>: <span class="hljs-literal">null</span>};
            <span class="hljs-keyword">return</span> options.sourceMapWithCode ? pair : pair.code;
        }


        pair = result.toStringWithSourceMap({
            <span class="hljs-attr">file</span>: options.file,
            <span class="hljs-attr">sourceRoot</span>: options.sourceMapRoot
        });

        <span class="hljs-keyword">if</span> (options.sourceContent) {
            pair.map.setSourceContent(options.sourceMap,
                                      options.sourceContent);
        }

        <span class="hljs-keyword">if</span> (options.sourceMapWithCode) {
            <span class="hljs-keyword">return</span> pair;
        }

        <span class="hljs-keyword">return</span> pair.map.toString();
    }

    FORMAT_MINIFY = {
        <span class="hljs-attr">indent</span>: {
            <span class="hljs-attr">style</span>: <span class="hljs-string">''</span>,
            <span class="hljs-attr">base</span>: <span class="hljs-number">0</span>
        },
        <span class="hljs-attr">renumber</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">hexadecimal</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">quotes</span>: <span class="hljs-string">'auto'</span>,
        <span class="hljs-attr">escapeless</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">compact</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">parentheses</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">semicolons</span>: <span class="hljs-literal">false</span>
    };

    FORMAT_DEFAULTS = getDefaultOptions().format;

    exports.version = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./package.json'</span>).version;
    exports.generate = generate;
    exports.attachComments = estraverse.attachComments;
    exports.Precedence = updateDeeply({}, Precedence);
    exports.browser = <span class="hljs-literal">false</span>;
    exports.FORMAT_MINIFY = FORMAT_MINIFY;
    exports.FORMAT_DEFAULTS = FORMAT_DEFAULTS;
}());
<span class="hljs-comment">/* vim: set sw=4 ts=4 et tw=80 : */</span>

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
