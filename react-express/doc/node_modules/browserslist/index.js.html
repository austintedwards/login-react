<!DOCTYPE html>
<html>
<head>
  <title>index.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/browserslist/index.js";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>index.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-keyword">var</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>)
<span class="hljs-keyword">var</span> e2c = <span class="hljs-built_in">require</span>(<span class="hljs-string">'electron-to-chromium/versions'</span>)
<span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>)

<span class="hljs-keyword">var</span> agents = <span class="hljs-built_in">require</span>(<span class="hljs-string">'caniuse-lite/dist/unpacker/agents'</span>).agents
<span class="hljs-keyword">var</span> region = <span class="hljs-built_in">require</span>(<span class="hljs-string">'caniuse-lite/dist/unpacker/region'</span>).default

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">normalize</span> (<span class="hljs-params">versions</span>) </span>{
  <span class="hljs-keyword">return</span> versions.filter(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">version</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> version === <span class="hljs-string">'string'</span>
  })
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">nameMapper</span> (<span class="hljs-params">name</span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mapName</span> (<span class="hljs-params">version</span>) </span>{
    <span class="hljs-keyword">return</span> name + <span class="hljs-string">' '</span> + version
  }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getMajor</span> (<span class="hljs-params">version</span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseInt</span>(version.split(<span class="hljs-string">'.'</span>)[<span class="hljs-number">0</span>])
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getMajorVersions</span> (<span class="hljs-params">released, number</span>) </span>{
  <span class="hljs-keyword">if</span> (released.length === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> []
  <span class="hljs-keyword">var</span> minimum = getMajor(released[released.length - <span class="hljs-number">1</span>]) - <span class="hljs-built_in">parseInt</span>(number) + <span class="hljs-number">1</span>
  <span class="hljs-keyword">var</span> selected = []
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = released.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
    <span class="hljs-keyword">if</span> (minimum &gt; getMajor(released[i])) <span class="hljs-keyword">break</span>
    selected.unshift(released[i])
  }
  <span class="hljs-keyword">return</span> selected
}

<span class="hljs-keyword">var</span> env = process.env

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<p>eslint-disable-next-line security/detect-unsafe-regex</p>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-keyword">var</span> FLOAT_RANGE = <span class="hljs-regexp">/^\d+(\.\d+)?(-\d+(\.\d+)?)*$/</span>
<span class="hljs-keyword">var</span> IS_SECTION = <span class="hljs-regexp">/^\s*\[(.+)\]\s*$/</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">uniq</span> (<span class="hljs-params">array</span>) </span>{
  <span class="hljs-keyword">var</span> filtered = []
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; array.length; i++) {
    <span class="hljs-keyword">if</span> (filtered.indexOf(array[i]) === <span class="hljs-number">-1</span>) filtered.push(array[i])
  }
  <span class="hljs-keyword">return</span> filtered
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">BrowserslistError</span> (<span class="hljs-params">message</span>) </span>{
  <span class="hljs-keyword">this</span>.name = <span class="hljs-string">'BrowserslistError'</span>
  <span class="hljs-keyword">this</span>.message = message || <span class="hljs-string">''</span>
  <span class="hljs-keyword">this</span>.browserslist = <span class="hljs-literal">true</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Error</span>.captureStackTrace) {
    <span class="hljs-built_in">Error</span>.captureStackTrace(<span class="hljs-keyword">this</span>, BrowserslistError)
  }
}
BrowserslistError.prototype = <span class="hljs-built_in">Error</span>.prototype

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<p>Helpers</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fillUsage</span> (<span class="hljs-params">result, name, data</span>) </span>{
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> data) {
    result[name + <span class="hljs-string">' '</span> + i] = data[i]
  }
}

<span class="hljs-keyword">var</span> cacheEnabled = !env.BROWSERSLIST_DISABLE_CACHE
<span class="hljs-keyword">var</span> filenessCache = {}
<span class="hljs-keyword">var</span> configCache = {}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isFile</span> (<span class="hljs-params">file</span>) </span>{
  <span class="hljs-keyword">if</span> (file <span class="hljs-keyword">in</span> filenessCache) {
    <span class="hljs-keyword">return</span> filenessCache[file]
  }
  <span class="hljs-keyword">var</span> result = fs.existsSync(file) &amp;&amp; fs.statSync(file).isFile()
  <span class="hljs-keyword">if</span> (cacheEnabled) {
    filenessCache[file] = result
  }
  <span class="hljs-keyword">return</span> result
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">eachParent</span> (<span class="hljs-params">file, callback</span>) </span>{
  <span class="hljs-keyword">var</span> loc = path.resolve(file)
  <span class="hljs-keyword">do</span> {
    <span class="hljs-keyword">var</span> result = callback(loc)
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> result !== <span class="hljs-string">'undefined'</span>) <span class="hljs-keyword">return</span> result
  } <span class="hljs-keyword">while</span> (loc !== (loc = path.dirname(loc)))
  <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getStat</span> (<span class="hljs-params">opts</span>) </span>{
  <span class="hljs-keyword">if</span> (opts.stats) {
    <span class="hljs-keyword">return</span> opts.stats
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (env.BROWSERSLIST_STATS) {
    <span class="hljs-keyword">return</span> env.BROWSERSLIST_STATS
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (opts.path &amp;&amp; path.resolve) {
    <span class="hljs-keyword">return</span> eachParent(opts.path, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">dir</span>) </span>{
      <span class="hljs-keyword">var</span> file = path.join(dir, <span class="hljs-string">'browserslist-stats.json'</span>)
      <span class="hljs-keyword">return</span> isFile(file) ? file : <span class="hljs-literal">undefined</span>
    })
  }

  <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parsePackage</span> (<span class="hljs-params">file</span>) </span>{
  <span class="hljs-keyword">var</span> config = <span class="hljs-built_in">JSON</span>.parse(fs.readFileSync(file)).browserslist
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> config === <span class="hljs-string">'object'</span> &amp;&amp; config.length) {
    config = { <span class="hljs-attr">defaults</span>: config }
  }
  <span class="hljs-keyword">return</span> config
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pickEnv</span> (<span class="hljs-params">config, opts</span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> config !== <span class="hljs-string">'object'</span>) <span class="hljs-keyword">return</span> config

  <span class="hljs-keyword">var</span> name
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> opts.env === <span class="hljs-string">'string'</span>) {
    name = opts.env
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (env.BROWSERSLIST_ENV) {
    name = env.BROWSERSLIST_ENV
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (env.NODE_ENV) {
    name = env.NODE_ENV
  } <span class="hljs-keyword">else</span> {
    name = <span class="hljs-string">'development'</span>
  }

  <span class="hljs-keyword">return</span> config[name] || config.defaults
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateFilter</span> (<span class="hljs-params">sign, version</span>) </span>{
  version = <span class="hljs-built_in">parseFloat</span>(version)
  <span class="hljs-keyword">if</span> (sign === <span class="hljs-string">'&gt;'</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">v</span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseFloat</span>(v) &gt; version
    }
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sign === <span class="hljs-string">'&gt;='</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">v</span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseFloat</span>(v) &gt;= version
    }
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sign === <span class="hljs-string">'&lt;'</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">v</span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseFloat</span>(v) &lt; version
    }
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">v</span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseFloat</span>(v) &lt;= version
    }
  }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compareStrings</span> (<span class="hljs-params">a, b</span>) </span>{
  <span class="hljs-keyword">if</span> (a &lt; b) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>
  <span class="hljs-keyword">if</span> (a &gt; b) <span class="hljs-keyword">return</span> +<span class="hljs-number">1</span>
  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return array of browsers by selection queries.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">queries</span>
<span class="dox_type">Array.&lt;string&gt;</span>
<span>Browser queries.
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">opts</span>
<span class="dox_type">object</span>
<span>Options.
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[opts.path=&#34;.&#34;]</span>
<span class="dox_type">string</span>
<span>Path to processed file.                                 It will be used to find config files.
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[opts.env=&#34;development&#34;]</span>
<span class="dox_type">string</span>
<span>Processing environment.                                          It will be used to take right
queries from config file.
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[opts.config]</span>
<span class="dox_type">string</span>
<span>Path to config file with queries.
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[opts.stats]</span>
<span class="dox_type">object</span>
<span>Custom browser usage statistics                              for &quot;&gt; 1% in my stats&quot; query.
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Array.&lt;string&gt;</span>
<span>Array with browser names in Can I Use.
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">browserslist</span> (<span class="hljs-params">queries, opts</span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> opts === <span class="hljs-string">'undefined'</span>) opts = { }

  <span class="hljs-keyword">if</span> (!opts.hasOwnProperty(<span class="hljs-string">'path'</span>)) {
    opts.path = path.resolve ? path.resolve(<span class="hljs-string">'.'</span>) : <span class="hljs-string">'.'</span>
  }

  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> queries === <span class="hljs-string">'undefined'</span> || queries === <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">if</span> (env.BROWSERSLIST) {
      queries = env.BROWSERSLIST
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (opts.config || env.BROWSERSLIST_CONFIG) {
      <span class="hljs-keyword">var</span> file = opts.config || env.BROWSERSLIST_CONFIG
      <span class="hljs-keyword">if</span> (path.basename(file) === <span class="hljs-string">'package.json'</span>) {
        queries = pickEnv(parsePackage(file), opts)
      } <span class="hljs-keyword">else</span> {
        queries = pickEnv(browserslist.readConfig(file), opts)
      }
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (opts.path) {
      queries = pickEnv(browserslist.findConfig(opts.path), opts)
    }
  }

  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> queries === <span class="hljs-string">'undefined'</span> || queries === <span class="hljs-literal">null</span>) {
    queries = browserslist.defaults
  }

  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> queries === <span class="hljs-string">'string'</span>) {
    queries = queries.split(<span class="hljs-regexp">/,\s*/</span>)
  }

  <span class="hljs-keyword">var</span> context = { }

  <span class="hljs-keyword">var</span> stats = getStat(opts)
  <span class="hljs-keyword">if</span> (stats) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> stats === <span class="hljs-string">'string'</span>) {
      <span class="hljs-keyword">try</span> {
        stats = <span class="hljs-built_in">JSON</span>.parse(fs.readFileSync(stats))
      } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> BrowserslistError(<span class="hljs-string">'Can\'t read '</span> + stats)
      }
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-string">'dataByBrowser'</span> <span class="hljs-keyword">in</span> stats) {
      stats = stats.dataByBrowser
    }

    context.customUsage = { }
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> browser <span class="hljs-keyword">in</span> stats) {
      fillUsage(context.customUsage, browser, stats[browser])
    }
  }

  <span class="hljs-keyword">var</span> result = []

  queries.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">selection, index</span>) </span>{
    <span class="hljs-keyword">if</span> (selection.trim() === <span class="hljs-string">''</span>) <span class="hljs-keyword">return</span>

    <span class="hljs-keyword">var</span> exclude = selection.indexOf(<span class="hljs-string">'not '</span>) === <span class="hljs-number">0</span>
    <span class="hljs-keyword">if</span> (exclude) {
      <span class="hljs-keyword">if</span> (index === <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> BrowserslistError(
          <span class="hljs-string">'Write any browsers query (for instance, `defaults`) '</span> +
          <span class="hljs-string">'before `'</span> + selection + <span class="hljs-string">'`'</span>)
      }
      selection = selection.slice(<span class="hljs-number">4</span>)
    }

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; QUERIES.length; i++) {
      <span class="hljs-keyword">var</span> type = QUERIES[i]
      <span class="hljs-keyword">var</span> match = selection.match(type.regexp)
      <span class="hljs-keyword">if</span> (match) {
        <span class="hljs-keyword">var</span> args = [context].concat(match.slice(<span class="hljs-number">1</span>))
        <span class="hljs-keyword">var</span> array = type.select.apply(browserslist, args)
        <span class="hljs-keyword">if</span> (exclude) {
          array = array.concat(array.map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">j</span>) </span>{
            <span class="hljs-keyword">return</span> j.replace(<span class="hljs-regexp">/\s\d+/</span>, <span class="hljs-string">' 0'</span>)
          }))
          result = result.filter(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">j</span>) </span>{
            <span class="hljs-keyword">return</span> array.indexOf(j) === <span class="hljs-number">-1</span>
          })
        } <span class="hljs-keyword">else</span> {
          result = result.concat(array)
        }
        <span class="hljs-keyword">return</span>
      }
    }

    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> BrowserslistError(<span class="hljs-string">'Unknown browser query `'</span> + selection + <span class="hljs-string">'`'</span>)
  })
  result = result.map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">i</span>) </span>{
    <span class="hljs-keyword">var</span> parts = i.split(<span class="hljs-string">' '</span>)
    <span class="hljs-keyword">var</span> name = parts[<span class="hljs-number">0</span>]
    <span class="hljs-keyword">var</span> version = parts[<span class="hljs-number">1</span>]
    <span class="hljs-keyword">if</span> (version === <span class="hljs-string">'0'</span>) {
      <span class="hljs-keyword">return</span> name + <span class="hljs-string">' '</span> + byName(name).versions[<span class="hljs-number">0</span>]
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> i
    }
  }).sort(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">name1, name2</span>) </span>{
    name1 = name1.split(<span class="hljs-string">' '</span>)
    name2 = name2.split(<span class="hljs-string">' '</span>)
    <span class="hljs-keyword">if</span> (name1[<span class="hljs-number">0</span>] === name2[<span class="hljs-number">0</span>]) {
      <span class="hljs-keyword">if</span> (FLOAT_RANGE.test(name1[<span class="hljs-number">1</span>]) &amp;&amp; FLOAT_RANGE.test(name2[<span class="hljs-number">1</span>])) {
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseFloat</span>(name2[<span class="hljs-number">1</span>]) - <span class="hljs-built_in">parseFloat</span>(name1[<span class="hljs-number">1</span>])
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> compareStrings(name2[<span class="hljs-number">1</span>], name1[<span class="hljs-number">1</span>])
      }
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> compareStrings(name1[<span class="hljs-number">0</span>], name2[<span class="hljs-number">0</span>])
    }
  })

  <span class="hljs-keyword">return</span> uniq(result)
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">normalizeVersion</span> (<span class="hljs-params">data, version</span>) </span>{
  <span class="hljs-keyword">if</span> (data.versions.indexOf(version) !== <span class="hljs-number">-1</span>) {
    <span class="hljs-keyword">return</span> version
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (browserslist.versionAliases[data.name][version]) {
    <span class="hljs-keyword">return</span> browserslist.versionAliases[data.name][version]
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (data.versions.length === <span class="hljs-number">1</span>) {
    <span class="hljs-keyword">return</span> data.versions[<span class="hljs-number">0</span>]
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadCountryStatistics</span> (<span class="hljs-params">country</span>) </span>{
  country = country.replace(<span class="hljs-regexp">/[^\w-]/g</span>, <span class="hljs-string">''</span>)
  <span class="hljs-keyword">if</span> (!browserslist.usage[country]) {
    <span class="hljs-keyword">var</span> usage = { }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<p>eslint-disable-next-line security/detect-non-literal-require</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> compressed = <span class="hljs-built_in">require</span>(<span class="hljs-string">'caniuse-lite/data/regions/'</span> + country + <span class="hljs-string">'.js'</span>)
    <span class="hljs-keyword">var</span> data = region(compressed)
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> data) {
      fillUsage(usage, i, data[i])
    }
    browserslist.usage[country] = usage
  }
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p>Will be filled by Can I Use data below</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">browserslist.data = { }
browserslist.usage = {
  <span class="hljs-attr">global</span>: { },
  <span class="hljs-attr">custom</span>: <span class="hljs-literal">null</span>
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>Default browsers query</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">browserslist.defaults = [
  <span class="hljs-string">'&gt; 1%'</span>,
  <span class="hljs-string">'last 2 versions'</span>,
  <span class="hljs-string">'Firefox ESR'</span>
]

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<p>Browser names aliases</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">browserslist.aliases = {
  <span class="hljs-attr">fx</span>: <span class="hljs-string">'firefox'</span>,
  <span class="hljs-attr">ff</span>: <span class="hljs-string">'firefox'</span>,
  <span class="hljs-attr">ios</span>: <span class="hljs-string">'ios_saf'</span>,
  <span class="hljs-attr">explorer</span>: <span class="hljs-string">'ie'</span>,
  <span class="hljs-attr">blackberry</span>: <span class="hljs-string">'bb'</span>,
  <span class="hljs-attr">explorermobile</span>: <span class="hljs-string">'ie_mob'</span>,
  <span class="hljs-attr">operamini</span>: <span class="hljs-string">'op_mini'</span>,
  <span class="hljs-attr">operamobile</span>: <span class="hljs-string">'op_mob'</span>,
  <span class="hljs-attr">chromeandroid</span>: <span class="hljs-string">'and_chr'</span>,
  <span class="hljs-attr">firefoxandroid</span>: <span class="hljs-string">'and_ff'</span>,
  <span class="hljs-attr">ucandroid</span>: <span class="hljs-string">'and_uc'</span>,
  <span class="hljs-attr">qqandroid</span>: <span class="hljs-string">'and_qq'</span>
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<p>Aliases to work with joined versions like <code>ios_saf 7.0-7.1</code></p>

        </td>
        <td class="code highlight">
          <pre class="javascript">browserslist.versionAliases = { }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>Get browser data by alias or case insensitive name</p>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">byName</span> (<span class="hljs-params">name</span>) </span>{
  name = name.toLowerCase()
  name = browserslist.aliases[name] || name
  <span class="hljs-keyword">return</span> browserslist.data[name]
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<p>Get browser data by alias or case insensitive name and throw error
on unknown browser</p>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkName</span> (<span class="hljs-params">name</span>) </span>{
  <span class="hljs-keyword">var</span> data = byName(name)
  <span class="hljs-keyword">if</span> (!data) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> BrowserslistError(<span class="hljs-string">'Unknown browser '</span> + name)
  <span class="hljs-keyword">return</span> data
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<p>Read and parse config</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">browserslist.readConfig = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">file</span>) </span>{
  <span class="hljs-keyword">if</span> (!isFile(file)) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> BrowserslistError(<span class="hljs-string">'Can\'t read '</span> + file + <span class="hljs-string">' config'</span>)
  }
  <span class="hljs-keyword">return</span> browserslist.parseConfig(fs.readFileSync(file))
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<p>Find config, read file and parse it</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">browserslist.findConfig = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">from</span>) </span>{
  <span class="hljs-keyword">if</span> (!path.resolve) <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>

  <span class="hljs-keyword">from</span> = path.resolve(<span class="hljs-keyword">from</span>)

  <span class="hljs-keyword">var</span> cacheKey = isFile(<span class="hljs-keyword">from</span>) ? path.dirname(<span class="hljs-keyword">from</span>) : <span class="hljs-keyword">from</span>
  <span class="hljs-keyword">if</span> (cacheKey <span class="hljs-keyword">in</span> configCache) {
    <span class="hljs-keyword">return</span> configCache[cacheKey]
  }

  <span class="hljs-keyword">var</span> resolved = eachParent(<span class="hljs-keyword">from</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">dir</span>) </span>{
    <span class="hljs-keyword">var</span> config = path.join(dir, <span class="hljs-string">'browserslist'</span>)
    <span class="hljs-keyword">var</span> pkg = path.join(dir, <span class="hljs-string">'package.json'</span>)
    <span class="hljs-keyword">var</span> rc = path.join(dir, <span class="hljs-string">'.browserslistrc'</span>)

    <span class="hljs-keyword">var</span> pkgBrowserslist
    <span class="hljs-keyword">if</span> (isFile(pkg)) {
      <span class="hljs-keyword">try</span> {
        pkgBrowserslist = parsePackage(pkg)
      } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-built_in">console</span>.warn(<span class="hljs-string">'[Browserslist] Could not parse '</span> + pkg + <span class="hljs-string">'. Ignoring it.'</span>)
      }
    }

    <span class="hljs-keyword">if</span> (isFile(config) &amp;&amp; pkgBrowserslist) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> BrowserslistError(
        dir + <span class="hljs-string">' contains both browserslist and package.json with browsers'</span>)
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isFile(rc) &amp;&amp; pkgBrowserslist) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> BrowserslistError(
        dir + <span class="hljs-string">' contains both .browserslistrc and package.json with browsers'</span>)
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isFile(config) &amp;&amp; isFile(rc)) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> BrowserslistError(
        dir + <span class="hljs-string">' contains both .browserslistrc and browserslist'</span>)
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isFile(config)) {
      <span class="hljs-keyword">return</span> browserslist.readConfig(config)
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isFile(rc)) {
      <span class="hljs-keyword">return</span> browserslist.readConfig(rc)
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> pkgBrowserslist
    }
  })
  <span class="hljs-keyword">if</span> (cacheEnabled) {
    configCache[cacheKey] = resolved
  }
  <span class="hljs-keyword">return</span> resolved
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return browsers market coverage.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">browsers</span>
<span class="dox_type">Array.&lt;string&gt;</span>
<span>Browsers names in Can I Use.
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[country=&#34;global&#34;]</span>
<span class="dox_type">string</span>
<span>Which country statistics should be used.
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">number</span>
<span>Total market coverage for all selected browsers.
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">browserslist.coverage = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">browsers, country</span>) </span>{
  <span class="hljs-keyword">if</span> (country &amp;&amp; country !== <span class="hljs-string">'global'</span>) {
    <span class="hljs-keyword">if</span> (country.length &gt; <span class="hljs-number">2</span>) {
      country = country.toLowerCase()
    } <span class="hljs-keyword">else</span> {
      country = country.toUpperCase()
    }
    loadCountryStatistics(country)
  } <span class="hljs-keyword">else</span> {
    country = <span class="hljs-string">'global'</span>
  }

  <span class="hljs-keyword">return</span> browsers.reduce(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">all, i</span>) </span>{
    <span class="hljs-keyword">var</span> usage = browserslist.usage[country][i]
    <span class="hljs-keyword">if</span> (usage === <span class="hljs-literal">undefined</span>) {
      usage = browserslist.usage[country][i.replace(<span class="hljs-regexp">/ [\d.]+$/</span>, <span class="hljs-string">' 0'</span>)]
    }
    <span class="hljs-keyword">return</span> all + (usage || <span class="hljs-number">0</span>)
  }, <span class="hljs-number">0</span>)
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<p>Return array of queries from config content</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">browserslist.parseConfig = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">string</span>) </span>{
  <span class="hljs-keyword">var</span> result = { <span class="hljs-attr">defaults</span>: [] }
  <span class="hljs-keyword">var</span> section = <span class="hljs-string">'defaults'</span>

  string.toString()
    .replace(<span class="hljs-regexp">/#[^\n]*/g</span>, <span class="hljs-string">''</span>)
    .split(<span class="hljs-regexp">/\n/</span>)
    .map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">line</span>) </span>{
      <span class="hljs-keyword">return</span> line.trim()
    })
    .filter(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">line</span>) </span>{
      <span class="hljs-keyword">return</span> line !== <span class="hljs-string">''</span>
    })
    .forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">line</span>) </span>{
      <span class="hljs-keyword">if</span> (IS_SECTION.test(line)) {
        section = line.match(IS_SECTION)[<span class="hljs-number">1</span>].trim()
        result[section] = result[section] || []
      } <span class="hljs-keyword">else</span> {
        result[section].push(line)
      }
    })

  <span class="hljs-keyword">return</span> result
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<p>Clear internal caches</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">browserslist.clearCaches = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  filenessCache = {}
  configCache = {}
}

<span class="hljs-keyword">var</span> QUERIES = [
  {
    <span class="hljs-attr">regexp</span>: <span class="hljs-regexp">/^last\s+(\d+)\s+major versions?$/i</span>,
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">context, versions</span>) </span>{
      <span class="hljs-keyword">var</span> selected = []
      <span class="hljs-built_in">Object</span>.keys(agents).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">var</span> data = byName(name)
        <span class="hljs-keyword">if</span> (!data) <span class="hljs-keyword">return</span>
        <span class="hljs-keyword">var</span> array = getMajorVersions(data.released, versions)

        array = array.map(nameMapper(data.name))
        selected = selected.concat(array)
      })
      <span class="hljs-keyword">return</span> selected
    }
  },
  {
    <span class="hljs-attr">regexp</span>: <span class="hljs-regexp">/^last\s+(\d+)\s+versions?$/i</span>,
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">context, versions</span>) </span>{
      <span class="hljs-keyword">var</span> selected = []
      <span class="hljs-built_in">Object</span>.keys(agents).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">var</span> data = byName(name)
        <span class="hljs-keyword">if</span> (!data) <span class="hljs-keyword">return</span>
        <span class="hljs-keyword">var</span> array = data.released.slice(-versions)

        array = array.map(nameMapper(data.name))
        selected = selected.concat(array)
      })
      <span class="hljs-keyword">return</span> selected
    }
  },
  {
    <span class="hljs-attr">regexp</span>: <span class="hljs-regexp">/^last\s+(\d+)\s+(\w+)\s+major versions?$/i</span>,
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">context, versions, name</span>) </span>{
      <span class="hljs-keyword">var</span> data = checkName(name)
      <span class="hljs-keyword">var</span> validVersions = getMajorVersions(data.released, versions)
      <span class="hljs-keyword">return</span> validVersions.map(nameMapper(data.name))
    }
  },
  {
    <span class="hljs-attr">regexp</span>: <span class="hljs-regexp">/^last\s+(\d+)\s+(\w+)\s+versions?$/i</span>,
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">context, versions, name</span>) </span>{
      <span class="hljs-keyword">var</span> data = checkName(name)
      <span class="hljs-keyword">return</span> data.released.slice(-versions).map(nameMapper(data.name))
    }
  },
  {
    <span class="hljs-attr">regexp</span>: <span class="hljs-regexp">/^unreleased\s+versions$/i</span>,
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">var</span> selected = []
      <span class="hljs-built_in">Object</span>.keys(agents).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">var</span> data = byName(name)
        <span class="hljs-keyword">if</span> (!data) <span class="hljs-keyword">return</span>
        <span class="hljs-keyword">var</span> array = data.versions.filter(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">v</span>) </span>{
          <span class="hljs-keyword">return</span> data.released.indexOf(v) === <span class="hljs-number">-1</span>
        })

        array = array.map(nameMapper(data.name))
        selected = selected.concat(array)
      })
      <span class="hljs-keyword">return</span> selected
    }
  },
  {
    <span class="hljs-attr">regexp</span>: <span class="hljs-regexp">/^unreleased\s+(\w+)\s+versions?$/i</span>,
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">context, name</span>) </span>{
      <span class="hljs-keyword">var</span> data = checkName(name)
      <span class="hljs-keyword">return</span> data.versions.filter(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">v</span>) </span>{
        <span class="hljs-keyword">return</span> data.released.indexOf(v) === <span class="hljs-number">-1</span>
      }).map(nameMapper(data.name))
    }
  },
  {
    <span class="hljs-attr">regexp</span>: <span class="hljs-regexp">/^(&gt;=?)\s*(\d*\.?\d+)%$/</span>,
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">context, sign, popularity</span>) </span>{
      popularity = <span class="hljs-built_in">parseFloat</span>(popularity)
      <span class="hljs-keyword">var</span> result = []

      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> version <span class="hljs-keyword">in</span> browserslist.usage.global) {
        <span class="hljs-keyword">if</span> (sign === <span class="hljs-string">'&gt;'</span>) {
          <span class="hljs-keyword">if</span> (browserslist.usage.global[version] &gt; popularity) {
            result.push(version)
          }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (browserslist.usage.global[version] &gt;= popularity) {
          result.push(version)
        }
      }

      <span class="hljs-keyword">return</span> result
    }
  },
  {
    <span class="hljs-attr">regexp</span>: <span class="hljs-regexp">/^(&gt;=?)\s*(\d*\.?\d+)%\s+in\s+my\s+stats$/</span>,
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">context, sign, popularity</span>) </span>{
      popularity = <span class="hljs-built_in">parseFloat</span>(popularity)
      <span class="hljs-keyword">var</span> result = []

      <span class="hljs-keyword">if</span> (!context.customUsage) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> BrowserslistError(<span class="hljs-string">'Custom usage statistics was not provided'</span>)
      }

      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> version <span class="hljs-keyword">in</span> context.customUsage) {
        <span class="hljs-keyword">if</span> (sign === <span class="hljs-string">'&gt;'</span>) {
          <span class="hljs-keyword">if</span> (context.customUsage[version] &gt; popularity) {
            result.push(version)
          }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (context.customUsage[version] &gt;= popularity) {
          result.push(version)
        }
      }

      <span class="hljs-keyword">return</span> result
    }
  },
  {
    <span class="hljs-attr">regexp</span>: <span class="hljs-regexp">/^(&gt;=?)\s*(\d*\.?\d+)%\s+in\s+((alt-)?\w\w)$/</span>,
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">context, sign, popularity, place</span>) </span>{
      popularity = <span class="hljs-built_in">parseFloat</span>(popularity)
      <span class="hljs-keyword">var</span> result = []

      <span class="hljs-keyword">if</span> (place.length === <span class="hljs-number">2</span>) {
        place = place.toUpperCase()
      } <span class="hljs-keyword">else</span> {
        place = place.toLowerCase()
      }

      loadCountryStatistics(place)
      <span class="hljs-keyword">var</span> usage = browserslist.usage[place]

      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> version <span class="hljs-keyword">in</span> usage) {
        <span class="hljs-keyword">if</span> (sign === <span class="hljs-string">'&gt;'</span>) {
          <span class="hljs-keyword">if</span> (usage[version] &gt; popularity) {
            result.push(version)
          }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (usage[version] &gt;= popularity) {
          result.push(version)
        }
      }

      <span class="hljs-keyword">return</span> result
    }
  },
  {
    <span class="hljs-attr">regexp</span>: <span class="hljs-regexp">/^electron\s+([\d.]+)\s*-\s*([\d.]+)$/i</span>,
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">context, from, to</span>) </span>{
      <span class="hljs-keyword">if</span> (!e2c[<span class="hljs-keyword">from</span>]) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> BrowserslistError(<span class="hljs-string">'Unknown version '</span> + <span class="hljs-keyword">from</span> + <span class="hljs-string">' of electron'</span>)
      }
      <span class="hljs-keyword">if</span> (!e2c[to]) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> BrowserslistError(<span class="hljs-string">'Unknown version '</span> + to + <span class="hljs-string">' of electron'</span>)
      }

      <span class="hljs-keyword">from</span> = <span class="hljs-built_in">parseFloat</span>(<span class="hljs-keyword">from</span>)
      to = <span class="hljs-built_in">parseFloat</span>(to)

      <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.keys(e2c).filter(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">var</span> parsed = <span class="hljs-built_in">parseFloat</span>(i)
        <span class="hljs-keyword">return</span> parsed &gt;= <span class="hljs-keyword">from</span> &amp;&amp; parsed &lt;= to
      }).map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'chrome '</span> + e2c[i]
      })
    }
  },
  {
    <span class="hljs-attr">regexp</span>: <span class="hljs-regexp">/^(\w+)\s+([\d.]+)\s*-\s*([\d.]+)$/i</span>,
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">context, name, from, to</span>) </span>{
      <span class="hljs-keyword">var</span> data = checkName(name)
      <span class="hljs-keyword">from</span> = <span class="hljs-built_in">parseFloat</span>(normalizeVersion(data, <span class="hljs-keyword">from</span>) || <span class="hljs-keyword">from</span>)
      to = <span class="hljs-built_in">parseFloat</span>(normalizeVersion(data, to) || to)

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">filter</span> (<span class="hljs-params">v</span>) </span>{
        <span class="hljs-keyword">var</span> parsed = <span class="hljs-built_in">parseFloat</span>(v)
        <span class="hljs-keyword">return</span> parsed &gt;= <span class="hljs-keyword">from</span> &amp;&amp; parsed &lt;= to
      }

      <span class="hljs-keyword">return</span> data.released.filter(filter).map(nameMapper(data.name))
    }
  },
  {
    <span class="hljs-attr">regexp</span>: <span class="hljs-regexp">/^electron\s*(&gt;=?|&lt;=?)\s*([\d.]+)$/i</span>,
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">context, sign, version</span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.keys(e2c)
        .filter(generateFilter(sign, version))
        .map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">i</span>) </span>{
          <span class="hljs-keyword">return</span> <span class="hljs-string">'chrome '</span> + e2c[i]
        })
    }
  },
  {
    <span class="hljs-attr">regexp</span>: <span class="hljs-regexp">/^(\w+)\s*(&gt;=?|&lt;=?)\s*([\d.]+)$/</span>,
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">context, name, sign, version</span>) </span>{
      <span class="hljs-keyword">var</span> data = checkName(name)
      <span class="hljs-keyword">var</span> alias = browserslist.versionAliases[data.name][version]
      <span class="hljs-keyword">if</span> (alias) {
        version = alias
      }
      <span class="hljs-keyword">return</span> data.released
        .filter(generateFilter(sign, version))
        .map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">v</span>) </span>{
          <span class="hljs-keyword">return</span> data.name + <span class="hljs-string">' '</span> + v
        })
    }
  },
  {
    <span class="hljs-attr">regexp</span>: <span class="hljs-regexp">/^(firefox|ff|fx)\s+esr$/i</span>,
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">return</span> [<span class="hljs-string">'firefox 52'</span>]
    }
  },
  {
    <span class="hljs-attr">regexp</span>: <span class="hljs-regexp">/(operamini|op_mini)\s+all/i</span>,
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">return</span> [<span class="hljs-string">'op_mini all'</span>]
    }
  },
  {
    <span class="hljs-attr">regexp</span>: <span class="hljs-regexp">/^electron\s+([\d.]+)$/i</span>,
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">context, version</span>) </span>{
      <span class="hljs-keyword">var</span> chrome = e2c[version]
      <span class="hljs-keyword">if</span> (!chrome) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> BrowserslistError(
          <span class="hljs-string">'Unknown version '</span> + version + <span class="hljs-string">' of electron'</span>)
      }
      <span class="hljs-keyword">return</span> [<span class="hljs-string">'chrome '</span> + chrome]
    }
  },
  {
    <span class="hljs-attr">regexp</span>: <span class="hljs-regexp">/^(\w+)\s+(tp|[\d.]+)$/i</span>,
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">context, name, version</span>) </span>{
      <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/^tp$/i</span>.test(version)) version = <span class="hljs-string">'TP'</span>
      <span class="hljs-keyword">var</span> data = checkName(name)
      <span class="hljs-keyword">var</span> alias = normalizeVersion(data, version)
      <span class="hljs-keyword">if</span> (alias) {
        version = alias
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (version.indexOf(<span class="hljs-string">'.'</span>) === <span class="hljs-number">-1</span>) {
          alias = version + <span class="hljs-string">'.0'</span>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/\.0$/</span>.test(version)) {
          alias = version.replace(<span class="hljs-regexp">/\.0$/</span>, <span class="hljs-string">''</span>)
        }
        alias = normalizeVersion(data, alias)
        <span class="hljs-keyword">if</span> (alias) {
          version = alias
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> BrowserslistError(
            <span class="hljs-string">'Unknown version '</span> + version + <span class="hljs-string">' of '</span> + name)
        }
      }
      <span class="hljs-keyword">return</span> [data.name + <span class="hljs-string">' '</span> + version]
    }
  },
  {
    <span class="hljs-attr">regexp</span>: <span class="hljs-regexp">/^defaults$/i</span>,
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">return</span> browserslist(browserslist.defaults)
    }
  }
];

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<p>Get and convert Can I Use data</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> name <span class="hljs-keyword">in</span> agents) {
    <span class="hljs-keyword">var</span> browser = agents[name]
    browserslist.data[name] = {
      <span class="hljs-attr">name</span>: name,
      <span class="hljs-attr">versions</span>: normalize(agents[name].versions),
      <span class="hljs-attr">released</span>: normalize(agents[name].versions.slice(<span class="hljs-number">0</span>, <span class="hljs-number">-3</span>))
    }
    fillUsage(browserslist.usage.global, name, browser.usage_global)

    browserslist.versionAliases[name] = { }
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; browser.versions.length; i++) {
      <span class="hljs-keyword">var</span> full = browser.versions[i]
      <span class="hljs-keyword">if</span> (!full) <span class="hljs-keyword">continue</span>

      <span class="hljs-keyword">if</span> (full.indexOf(<span class="hljs-string">'-'</span>) !== <span class="hljs-number">-1</span>) {
        <span class="hljs-keyword">var</span> interval = full.split(<span class="hljs-string">'-'</span>)
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; interval.length; j++) {
          browserslist.versionAliases[name][interval[j]] = full
        }
      }
    }
  }
}())

<span class="hljs-built_in">module</span>.exports = browserslist

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
