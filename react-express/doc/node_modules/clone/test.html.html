<!DOCTYPE html>
<html>
<head>
  <title>test.html</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/clone/test.html";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>test.html</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="html"><span class="hljs-meta">&lt;!doctype html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Clone Test-Suite (Browser)<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
      <span class="hljs-keyword">var</span> <span class="hljs-built_in">module</span> = {};
      <span class="hljs-keyword">var</span> tests = exports = <span class="hljs-built_in">module</span>.exports = {};

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">require</span>(<span class="hljs-params">moduleName</span>) </span>{
        <span class="hljs-keyword">if</span> (moduleName == <span class="hljs-string">'./'</span>) {
          <span class="hljs-keyword">return</span> clone;
        }
      }

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">log</span>(<span class="hljs-params">str</span>) </span>{
        logList.innerHTML += <span class="hljs-string">'&lt;li&gt;'</span> + str + <span class="hljs-string">'&lt;/li&gt;'</span>;
      }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"clone.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"test.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"nodeunit-header"</span>&gt;</span>Clone Test-Suite (Browser)<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    Tests started: <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"testsStarted"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>;
    Tests finished: <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"testsFinished"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>.
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"logList"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
      <span class="hljs-comment">/* Methods copied from
       * https://github.com/caolan/nodeunit/blob/master/lib/assert.js
       */</span>
      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isUndefinedOrNull</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">return</span> value === <span class="hljs-literal">null</span> || value === <span class="hljs-literal">undefined</span>;
      }

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isArguments</span>(<span class="hljs-params">object</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.prototype.toString.call(object) == <span class="hljs-string">'[object Arguments]'</span>;
      }

      <span class="hljs-keyword">var</span> _keys = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>)</span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.keys) <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.keys(obj);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> obj != <span class="hljs-string">'object'</span> &amp;&amp; <span class="hljs-keyword">typeof</span> obj != <span class="hljs-string">'function'</span>) {
          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'-'</span>);
        }
        <span class="hljs-keyword">var</span> keys = [];
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> k <span class="hljs-keyword">in</span> obj) <span class="hljs-keyword">if</span>(obj.hasOwnProperty(k)) keys.push(k);
        <span class="hljs-keyword">return</span> keys;
      };

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">objEquiv</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">if</span> (isUndefinedOrNull(a) || isUndefinedOrNull(b))
          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

        <span class="hljs-keyword">if</span> (a.prototype !== b.prototype)
          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

        <span class="hljs-keyword">if</span> (isArguments(a)) {
          <span class="hljs-keyword">if</span> (!isArguments(b)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
          a = pSlice.call(a);
          b = pSlice.call(b);
          <span class="hljs-keyword">return</span> _deepEqual(a, b);
        }

        <span class="hljs-keyword">try</span> {
          <span class="hljs-keyword">var</span> ka = _keys(a), kb = _keys(b), key, i;
        } <span class="hljs-keyword">catch</span> (e) {
          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        }

        <span class="hljs-keyword">if</span> (ka.length != kb.length)
          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

        ka.sort();
        kb.sort();

        <span class="hljs-keyword">for</span> (i = ka.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
          <span class="hljs-keyword">if</span> (ka[i] != kb[i]) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }

        <span class="hljs-keyword">for</span> (i = ka.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
          key = ka[i];
          <span class="hljs-keyword">if</span> (!_deepEqual(a[key], b[key] ))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }

        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
      }
      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_deepEqual</span>(<span class="hljs-params">actual, expected</span>) </span>{
        <span class="hljs-keyword">if</span> (actual === expected) {
          <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (actual <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Date</span> &amp;&amp; expected <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Date</span>) {
          <span class="hljs-keyword">return</span> actual.getTime() === expected.getTime();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (actual <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">RegExp</span> &amp;&amp; expected <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">RegExp</span>) {
          <span class="hljs-keyword">return</span> actual.source === expected.source &amp;&amp;
              actual.global === expected.global &amp;&amp;
              actual.ignoreCase === expected.ignoreCase &amp;&amp;
              actual.multiline === expected.multiline;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> actual != <span class="hljs-string">'object'</span> &amp;&amp; <span class="hljs-keyword">typeof</span> expected != <span class="hljs-string">'object'</span>) {
          <span class="hljs-keyword">return</span> actual == expected;
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">return</span> objEquiv(actual, expected);
        }
      }

      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> testName <span class="hljs-keyword">in</span> tests) {
        setTimeout((<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">testName</span>) </span>{
          <span class="hljs-keyword">try</span> {
            testsStarted.innerHTML = (<span class="hljs-built_in">parseInt</span>(testsStarted.innerHTML) || <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>;
            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">incFinished</span>(<span class="hljs-params"></span>) </span>{
              testsFinished.innerHTML = (<span class="hljs-built_in">parseInt</span>(testsFinished.innerHTML) || <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>;
            }

            tests[testName]({
              <span class="hljs-attr">expect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">num</span>) </span>{
                <span class="hljs-keyword">this</span>._expect = num
              },
              <span class="hljs-attr">ok</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">val</span>) </span>{
                <span class="hljs-keyword">if</span>(!val) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(val + <span class="hljs-string">' is not ok.'</span>)
              },
              <span class="hljs-attr">equal</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a,b</span>) </span>{
                <span class="hljs-keyword">if</span> (a != b) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(a + <span class="hljs-string">' is not equal to '</span> + b)
              },
              <span class="hljs-attr">notEqual</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a,b</span>) </span>{
                <span class="hljs-keyword">if</span> (a == b) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(a + <span class="hljs-string">' is equal to '</span> + b)
              },
              <span class="hljs-attr">strictEqual</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a,b</span>) </span>{
                <span class="hljs-keyword">if</span> (a !== b) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(a + <span class="hljs-string">' is not strict equal to '</span> + b)
              },
              <span class="hljs-attr">deepEqual</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a,b</span>) </span>{
                <span class="hljs-keyword">if</span> (!_deepEqual(a,b))
                  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-built_in">JSON</span>.stringify(a) + <span class="hljs-string">' is not deep equal to '</span> +
                                  <span class="hljs-built_in">JSON</span>.stringify(b))
              },
              <span class="hljs-attr">done</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                log(testName + <span class="hljs-string">' &lt;span style="color:blue"&gt;is ok&lt;/span&gt;.'</span>);
                incFinished();
              }
            });
          } <span class="hljs-keyword">catch</span>(e) {
            log(testName + <span class="hljs-string">' &lt;span style="color:red"&gt;FAIL.&lt;/span&gt; &lt;small&gt;'</span>+ e +<span class="hljs-string">'&lt;/small&gt;'</span>);
            incFinished();
            <span class="hljs-built_in">console</span>.log(e);
          }
        })(testName), <span class="hljs-number">1</span>);
      }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
