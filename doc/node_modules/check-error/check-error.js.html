<!DOCTYPE html>
<html>
<head>
  <title>check-error.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/check-error/check-error.js";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h3">
        <a href="#.checkerror">.checkError</a>
      </div>

      <div class="heading h3">
        <a href="#.compatibleinstance-thrown-errorlike">.compatibleInstance(thrown, errorLike)</a>
      </div>

      <div class="heading h3">
        <a href="#.compatibleconstructor-thrown-errorlike">.compatibleConstructor(thrown, errorLike)</a>
      </div>

      <div class="heading h3">
        <a href="#.compatiblemessage-thrown-errmatcher">.compatibleMessage(thrown, errMatcher)</a>
      </div>

      <div class="heading h3">
        <a href="#.getfunctionname-constructorfn">.getFunctionName(constructorFn)</a>
      </div>

      <div class="heading h3">
        <a href="#.getconstructorname-errorlike">.getConstructorName(errorLike)</a>
      </div>

      <div class="heading h3">
        <a href="#.getmessage-errorlike">.getMessage(errorLike)</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>check-error.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> exports===<span class="hljs-string">"object"</span>&amp;&amp;<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span>!==<span class="hljs-string">"undefined"</span>){<span class="hljs-built_in">module</span>.exports=f()}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> define===<span class="hljs-string">"function"</span>&amp;&amp;define.amd){define([],f)}<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> g;<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">window</span>!==<span class="hljs-string">"undefined"</span>){g=<span class="hljs-built_in">window</span>}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> global!==<span class="hljs-string">"undefined"</span>){g=global}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> self!==<span class="hljs-string">"undefined"</span>){g=self}<span class="hljs-keyword">else</span>{g=<span class="hljs-keyword">this</span>}g.checkError = f()}})(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> define,<span class="hljs-built_in">module</span>,exports;<span class="hljs-keyword">return</span> (<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params">t,n,r</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params">o,u</span>)</span>{<span class="hljs-keyword">if</span>(!n[o]){<span class="hljs-keyword">if</span>(!t[o]){<span class="hljs-keyword">var</span> a=<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">require</span>==<span class="hljs-string">"function"</span>&amp;&amp;<span class="hljs-built_in">require</span>;<span class="hljs-keyword">if</span>(!u&amp;&amp;a)<span class="hljs-keyword">return</span> a(o,!<span class="hljs-number">0</span>);<span class="hljs-keyword">if</span>(i)<span class="hljs-keyword">return</span> i(o,!<span class="hljs-number">0</span>);<span class="hljs-keyword">var</span> f=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Cannot find module '"</span>+o+<span class="hljs-string">"'"</span>);<span class="hljs-keyword">throw</span> f.code=<span class="hljs-string">"MODULE_NOT_FOUND"</span>,f}<span class="hljs-keyword">var</span> l=n[o]={<span class="hljs-attr">exports</span>:{}};t[o][<span class="hljs-number">0</span>].call(l.exports,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> n=t[o][<span class="hljs-number">1</span>][e];<span class="hljs-keyword">return</span> s(n?n:e)},l,l.exports,e,t,n,r)}<span class="hljs-keyword">return</span> n[o].exports}<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">require</span>==<span class="hljs-string">"function"</span>&amp;&amp;<span class="hljs-built_in">require</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> o=<span class="hljs-number">0</span>;o&lt;r.length;o++)s(r[o]);<span class="hljs-keyword">return</span> s})({<span class="hljs-number">1</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require,module,exports</span>)</span>{
<span class="hljs-meta">'use strict'</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<div class="dox">
<div class="summary">
<p>!
Chai - checkError utility
Copyright(c) 2012-2016 Jake Luer <a href="mailto:jake@alogicalparadox.com.html">jake@alogicalparadox.com</a>
MIT Licensed</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id=".checkerror">
  <h3>
    <a href="#.checkerror" name=".checkerror" class="pilcrow"></a>
.checkError
  </h3>
</div>
</div>
<div class="body">
<p>Checks that an error conforms to a given set of criteria and/or retrieves information about it.</p>
</div>
<div class="details">
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id=".compatibleinstance-thrown-errorlike">
  <h3>
    <a href="#.compatibleinstance-thrown-errorlike" name=".compatibleinstance-thrown-errorlike" class="pilcrow"></a>
.compatibleInstance(thrown, errorLike)
  </h3>
</div>
</div>
<div class="body">
<p>Checks if two instances are compatible (strict equal).
Returns false if errorLike is not an instance of Error, because instances
can only be compatible if they're both error instances.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">thrown</span>
<span class="dox_type">Error</span>
<span>error
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">errorLike</span>
<span class="dox_type">Error</span>
<span class="dox_type">ErrorConstructor</span>
<span>object to compare against
</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compatibleInstance</span>(<span class="hljs-params">thrown, errorLike</span>) </span>{
  <span class="hljs-keyword">return</span> errorLike <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Error</span> &amp;&amp; thrown === errorLike;
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id=".compatibleconstructor-thrown-errorlike">
  <h3>
    <a href="#.compatibleconstructor-thrown-errorlike" name=".compatibleconstructor-thrown-errorlike" class="pilcrow"></a>
.compatibleConstructor(thrown, errorLike)
  </h3>
</div>
</div>
<div class="body">
<p>Checks if two constructors are compatible.
This function can receive either an error constructor or
an error instance as the <code>errorLike</code> argument.
Constructors are compatible if they're the same or if one is
an instance of another.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">thrown</span>
<span class="dox_type">Error</span>
<span>error
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">errorLike</span>
<span class="dox_type">Error</span>
<span class="dox_type">ErrorConstructor</span>
<span>object to compare against
</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compatibleConstructor</span>(<span class="hljs-params">thrown, errorLike</span>) </span>{
  <span class="hljs-keyword">if</span> (errorLike <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Error</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p>If <code>errorLike</code> is an instance of any error we compare their constructors</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">return</span> thrown.constructor === errorLike.constructor || thrown <span class="hljs-keyword">instanceof</span> errorLike.constructor;
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (errorLike.prototype <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Error</span> || errorLike === <span class="hljs-built_in">Error</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>If <code>errorLike</code> is a constructor that inherits from Error, we compare <code>thrown</code> to <code>errorLike</code> directly</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">return</span> thrown.constructor === errorLike || thrown <span class="hljs-keyword">instanceof</span> errorLike;
  }

  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id=".compatiblemessage-thrown-errmatcher">
  <h3>
    <a href="#.compatiblemessage-thrown-errmatcher" name=".compatiblemessage-thrown-errmatcher" class="pilcrow"></a>
.compatibleMessage(thrown, errMatcher)
  </h3>
</div>
</div>
<div class="body">
<p>Checks if an error's message is compatible with a matcher (String or RegExp).
If the message contains the String or passes the RegExp test,
it is considered compatible.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">thrown</span>
<span class="dox_type">Error</span>
<span>error
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">errMatcher</span>
<span class="dox_type">String</span>
<span class="dox_type">RegExp</span>
<span>to look for into the message
</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compatibleMessage</span>(<span class="hljs-params">thrown, errMatcher</span>) </span>{
  <span class="hljs-keyword">var</span> comparisonString = <span class="hljs-keyword">typeof</span> thrown === <span class="hljs-string">'string'</span> ? thrown : thrown.message;
  <span class="hljs-keyword">if</span> (errMatcher <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">RegExp</span>) {
    <span class="hljs-keyword">return</span> errMatcher.test(comparisonString);
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> errMatcher === <span class="hljs-string">'string'</span>) {
    <span class="hljs-keyword">return</span> comparisonString.indexOf(errMatcher) !== <span class="hljs-number">-1</span>; <span class="hljs-comment">// eslint-disable-line no-magic-numbers</span>
  }

  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id=".getfunctionname-constructorfn">
  <h3>
    <a href="#.getfunctionname-constructorfn" name=".getfunctionname-constructorfn" class="pilcrow"></a>
.getFunctionName(constructorFn)
  </h3>
</div>
</div>
<div class="body">
<p>Returns the name of a function.
This also includes a polyfill function if <code>constructorFn.name</code> is not defined.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">constructorFn</span>
<span class="dox_type">Function</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">private</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-keyword">var</span> functionNameMatch = <span class="hljs-regexp">/\s*function(?:\s|\s*\/\*[^(?:*\/)]+\*\/\s*)*([^\(\/]+)/</span>;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFunctionName</span>(<span class="hljs-params">constructorFn</span>) </span>{
  <span class="hljs-keyword">var</span> name = <span class="hljs-string">''</span>;
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> constructorFn.name === <span class="hljs-string">'undefined'</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>Here we run a polyfill if constructorFn.name is not defined</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> match = <span class="hljs-built_in">String</span>(constructorFn).match(functionNameMatch);
    <span class="hljs-keyword">if</span> (match) {
      name = match[<span class="hljs-number">1</span>];
    }
  } <span class="hljs-keyword">else</span> {
    name = constructorFn.name;
  }

  <span class="hljs-keyword">return</span> name;
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id=".getconstructorname-errorlike">
  <h3>
    <a href="#.getconstructorname-errorlike" name=".getconstructorname-errorlike" class="pilcrow"></a>
.getConstructorName(errorLike)
  </h3>
</div>
</div>
<div class="body">
<p>Gets the constructor name for an Error instance or constructor itself.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">errorLike</span>
<span class="dox_type">Error</span>
<span class="dox_type">ErrorConstructor</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getConstructorName</span>(<span class="hljs-params">errorLike</span>) </span>{
  <span class="hljs-keyword">var</span> constructorName = errorLike;
  <span class="hljs-keyword">if</span> (errorLike <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Error</span>) {
    constructorName = getFunctionName(errorLike.constructor);
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> errorLike === <span class="hljs-string">'function'</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<p>If <code>err</code> is not an instance of Error it is an error constructor itself or another function.
If we've got a common function we get its name, otherwise we may need to create a new instance
of the error just in case it's a poorly-constructed error. Please see chaijs/chai/issues/45 to know more.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    constructorName = getFunctionName(errorLike).trim() ||
        getFunctionName(<span class="hljs-keyword">new</span> errorLike()); <span class="hljs-comment">// eslint-disable-line new-cap</span>
  }

  <span class="hljs-keyword">return</span> constructorName;
}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<div class="pilwrap" id=".getmessage-errorlike">
  <h3>
    <a href="#.getmessage-errorlike" name=".getmessage-errorlike" class="pilcrow"></a>
.getMessage(errorLike)
  </h3>
</div>
</div>
<div class="body">
<p>Gets the error message from an error.
If <code>err</code> is a String itself, we return it.
If the error has no message, we return an empty string.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">errorLike</span>
<span class="dox_type">Error</span>
<span class="dox_type">String</span>
</div>
<div class="dox_tag_title">API</div>
<div class="dox_tag_detail">
<span class="dox_type">public</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getMessage</span>(<span class="hljs-params">errorLike</span>) </span>{
  <span class="hljs-keyword">var</span> msg = <span class="hljs-string">''</span>;
  <span class="hljs-keyword">if</span> (errorLike &amp;&amp; errorLike.message) {
    msg = errorLike.message;
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> errorLike === <span class="hljs-string">'string'</span>) {
    msg = errorLike;
  }

  <span class="hljs-keyword">return</span> msg;
}

<span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">compatibleInstance</span>: compatibleInstance,
  <span class="hljs-attr">compatibleConstructor</span>: compatibleConstructor,
  <span class="hljs-attr">compatibleMessage</span>: compatibleMessage,
  <span class="hljs-attr">getMessage</span>: getMessage,
  <span class="hljs-attr">getConstructorName</span>: getConstructorName,
};

},{}]},{},[<span class="hljs-number">1</span>])(<span class="hljs-number">1</span>)
});
</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
