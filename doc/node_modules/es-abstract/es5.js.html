<!DOCTYPE html>
<html>
<head>
  <title>es5.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/es-abstract/es5.js";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>es5.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-meta">'use strict'</span>;

<span class="hljs-keyword">var</span> $<span class="hljs-built_in">isNaN</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./helpers/isNaN'</span>);
<span class="hljs-keyword">var</span> $<span class="hljs-built_in">isFinite</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./helpers/isFinite'</span>);

<span class="hljs-keyword">var</span> sign = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./helpers/sign'</span>);
<span class="hljs-keyword">var</span> mod = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./helpers/mod'</span>);

<span class="hljs-keyword">var</span> IsCallable = <span class="hljs-built_in">require</span>(<span class="hljs-string">'is-callable'</span>);
<span class="hljs-keyword">var</span> toPrimitive = <span class="hljs-built_in">require</span>(<span class="hljs-string">'es-to-primitive/es5'</span>);

<span class="hljs-keyword">var</span> has = <span class="hljs-built_in">require</span>(<span class="hljs-string">'has'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<p>https://es5.github.io/#x9</p>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-keyword">var</span> ES5 = {
	<span class="hljs-attr">ToPrimitive</span>: toPrimitive,

	<span class="hljs-attr">ToBoolean</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ToBoolean</span>(<span class="hljs-params">value</span>) </span>{
		<span class="hljs-keyword">return</span> !!value;
	},
	<span class="hljs-attr">ToNumber</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ToNumber</span>(<span class="hljs-params">value</span>) </span>{
		<span class="hljs-keyword">return</span> <span class="hljs-built_in">Number</span>(value);
	},
	<span class="hljs-attr">ToInteger</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ToInteger</span>(<span class="hljs-params">value</span>) </span>{
		<span class="hljs-keyword">var</span> number = <span class="hljs-keyword">this</span>.ToNumber(value);
		<span class="hljs-keyword">if</span> ($<span class="hljs-built_in">isNaN</span>(number)) { <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; }
		<span class="hljs-keyword">if</span> (number === <span class="hljs-number">0</span> || !$<span class="hljs-built_in">isFinite</span>(number)) { <span class="hljs-keyword">return</span> number; }
		<span class="hljs-keyword">return</span> sign(number) * <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.abs(number));
	},
	<span class="hljs-attr">ToInt32</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ToInt32</span>(<span class="hljs-params">x</span>) </span>{
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.ToNumber(x) &gt;&gt; <span class="hljs-number">0</span>;
	},
	<span class="hljs-attr">ToUint32</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ToUint32</span>(<span class="hljs-params">x</span>) </span>{
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.ToNumber(x) &gt;&gt;&gt; <span class="hljs-number">0</span>;
	},
	<span class="hljs-attr">ToUint16</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ToUint16</span>(<span class="hljs-params">value</span>) </span>{
		<span class="hljs-keyword">var</span> number = <span class="hljs-keyword">this</span>.ToNumber(value);
		<span class="hljs-keyword">if</span> ($<span class="hljs-built_in">isNaN</span>(number) || number === <span class="hljs-number">0</span> || !$<span class="hljs-built_in">isFinite</span>(number)) { <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; }
		<span class="hljs-keyword">var</span> posInt = sign(number) * <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.abs(number));
		<span class="hljs-keyword">return</span> mod(posInt, <span class="hljs-number">0x10000</span>);
	},
	<span class="hljs-attr">ToString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ToString</span>(<span class="hljs-params">value</span>) </span>{
		<span class="hljs-keyword">return</span> <span class="hljs-built_in">String</span>(value);
	},
	<span class="hljs-attr">ToObject</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ToObject</span>(<span class="hljs-params">value</span>) </span>{
		<span class="hljs-keyword">this</span>.CheckObjectCoercible(value);
		<span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>(value);
	},
	<span class="hljs-attr">CheckObjectCoercible</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">CheckObjectCoercible</span>(<span class="hljs-params">value, optMessage</span>) </span>{
		<span class="hljs-comment">/* jshint eqnull:true */</span>
		<span class="hljs-keyword">if</span> (value == <span class="hljs-literal">null</span>) {
			<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(optMessage || <span class="hljs-string">'Cannot call method on '</span> + value);
		}
		<span class="hljs-keyword">return</span> value;
	},
	<span class="hljs-attr">IsCallable</span>: IsCallable,
	<span class="hljs-attr">SameValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SameValue</span>(<span class="hljs-params">x, y</span>) </span>{
		<span class="hljs-keyword">if</span> (x === y) { <span class="hljs-comment">// 0 === -0, but they are not identical.</span>
			<span class="hljs-keyword">if</span> (x === <span class="hljs-number">0</span>) { <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> / x === <span class="hljs-number">1</span> / y; }
			<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
		}
		<span class="hljs-keyword">return</span> $<span class="hljs-built_in">isNaN</span>(x) &amp;&amp; $<span class="hljs-built_in">isNaN</span>(y);
	},

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<p>http://www.ecma-international.org/ecma-262/5.1/#sec-8</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">	Type: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Type</span>(<span class="hljs-params">x</span>) </span>{
		<span class="hljs-keyword">if</span> (x === <span class="hljs-literal">null</span>) {
			<span class="hljs-keyword">return</span> <span class="hljs-string">'Null'</span>;
		}
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> x === <span class="hljs-string">'undefined'</span>) {
			<span class="hljs-keyword">return</span> <span class="hljs-string">'Undefined'</span>;
		}
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> x === <span class="hljs-string">'function'</span> || <span class="hljs-keyword">typeof</span> x === <span class="hljs-string">'object'</span>) {
			<span class="hljs-keyword">return</span> <span class="hljs-string">'Object'</span>;
		}
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> x === <span class="hljs-string">'number'</span>) {
			<span class="hljs-keyword">return</span> <span class="hljs-string">'Number'</span>;
		}
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> x === <span class="hljs-string">'boolean'</span>) {
			<span class="hljs-keyword">return</span> <span class="hljs-string">'Boolean'</span>;
		}
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> x === <span class="hljs-string">'string'</span>) {
			<span class="hljs-keyword">return</span> <span class="hljs-string">'String'</span>;
		}
	},

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<p>http://ecma-international.org/ecma-262/6.0/#sec-property-descriptor-specification-type</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">	IsPropertyDescriptor: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">IsPropertyDescriptor</span>(<span class="hljs-params">Desc</span>) </span>{
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.Type(Desc) !== <span class="hljs-string">'Object'</span>) {
			<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
		}
		<span class="hljs-keyword">var</span> allowed = {
			<span class="hljs-string">'[[Configurable]]'</span>: <span class="hljs-literal">true</span>,
			<span class="hljs-string">'[[Enumerable]]'</span>: <span class="hljs-literal">true</span>,
			<span class="hljs-string">'[[Get]]'</span>: <span class="hljs-literal">true</span>,
			<span class="hljs-string">'[[Set]]'</span>: <span class="hljs-literal">true</span>,
			<span class="hljs-string">'[[Value]]'</span>: <span class="hljs-literal">true</span>,
			<span class="hljs-string">'[[Writable]]'</span>: <span class="hljs-literal">true</span>
		};
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<p>jscs:disable</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> Desc) { <span class="hljs-comment">// eslint-disable-line</span>
			<span class="hljs-keyword">if</span> (has(Desc, key) &amp;&amp; !allowed[key]) {
				<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
			}
		}
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p>jscs:enable</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">		<span class="hljs-keyword">var</span> isData = has(Desc, <span class="hljs-string">'[[Value]]'</span>);
		<span class="hljs-keyword">var</span> IsAccessor = has(Desc, <span class="hljs-string">'[[Get]]'</span>) || has(Desc, <span class="hljs-string">'[[Set]]'</span>);
		<span class="hljs-keyword">if</span> (isData &amp;&amp; IsAccessor) {
			<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'Property Descriptors may not be both accessor and data descriptors'</span>);
		}
		<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
	},

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>http://ecma-international.org/ecma-262/5.1/#sec-8.10.1</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">	IsAccessorDescriptor: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">IsAccessorDescriptor</span>(<span class="hljs-params">Desc</span>) </span>{
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> Desc === <span class="hljs-string">'undefined'</span>) {
			<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
		}

		<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.IsPropertyDescriptor(Desc)) {
			<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'Desc must be a Property Descriptor'</span>);
		}

		<span class="hljs-keyword">if</span> (!has(Desc, <span class="hljs-string">'[[Get]]'</span>) &amp;&amp; !has(Desc, <span class="hljs-string">'[[Set]]'</span>)) {
			<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
		}

		<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
	},

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<p>http://ecma-international.org/ecma-262/5.1/#sec-8.10.2</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">	IsDataDescriptor: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">IsDataDescriptor</span>(<span class="hljs-params">Desc</span>) </span>{
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> Desc === <span class="hljs-string">'undefined'</span>) {
			<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
		}

		<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.IsPropertyDescriptor(Desc)) {
			<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'Desc must be a Property Descriptor'</span>);
		}

		<span class="hljs-keyword">if</span> (!has(Desc, <span class="hljs-string">'[[Value]]'</span>) &amp;&amp; !has(Desc, <span class="hljs-string">'[[Writable]]'</span>)) {
			<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
		}

		<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
	},

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<p>http://ecma-international.org/ecma-262/5.1/#sec-8.10.3</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">	IsGenericDescriptor: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">IsGenericDescriptor</span>(<span class="hljs-params">Desc</span>) </span>{
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> Desc === <span class="hljs-string">'undefined'</span>) {
			<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
		}

		<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.IsPropertyDescriptor(Desc)) {
			<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'Desc must be a Property Descriptor'</span>);
		}

		<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.IsAccessorDescriptor(Desc) &amp;&amp; !<span class="hljs-keyword">this</span>.IsDataDescriptor(Desc)) {
			<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
		}

		<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
	},

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>http://ecma-international.org/ecma-262/5.1/#sec-8.10.4</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">	FromPropertyDescriptor: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">FromPropertyDescriptor</span>(<span class="hljs-params">Desc</span>) </span>{
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> Desc === <span class="hljs-string">'undefined'</span>) {
			<span class="hljs-keyword">return</span> Desc;
		}

		<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.IsPropertyDescriptor(Desc)) {
			<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'Desc must be a Property Descriptor'</span>);
		}

		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.IsDataDescriptor(Desc)) {
			<span class="hljs-keyword">return</span> {
				<span class="hljs-attr">value</span>: Desc[<span class="hljs-string">'[[Value]]'</span>],
				<span class="hljs-attr">writable</span>: !!Desc[<span class="hljs-string">'[[Writable]]'</span>],
				<span class="hljs-attr">enumerable</span>: !!Desc[<span class="hljs-string">'[[Enumerable]]'</span>],
				<span class="hljs-attr">configurable</span>: !!Desc[<span class="hljs-string">'[[Configurable]]'</span>]
			};
		} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.IsAccessorDescriptor(Desc)) {
			<span class="hljs-keyword">return</span> {
				<span class="hljs-attr">get</span>: Desc[<span class="hljs-string">'[[Get]]'</span>],
				<span class="hljs-attr">set</span>: Desc[<span class="hljs-string">'[[Set]]'</span>],
				<span class="hljs-attr">enumerable</span>: !!Desc[<span class="hljs-string">'[[Enumerable]]'</span>],
				<span class="hljs-attr">configurable</span>: !!Desc[<span class="hljs-string">'[[Configurable]]'</span>]
			};
		} <span class="hljs-keyword">else</span> {
			<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'FromPropertyDescriptor must be called with a fully populated Property Descriptor'</span>);
		}
	},

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<p>http://ecma-international.org/ecma-262/5.1/#sec-8.10.5</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">	ToPropertyDescriptor: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ToPropertyDescriptor</span>(<span class="hljs-params">Obj</span>) </span>{
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.Type(Obj) !== <span class="hljs-string">'Object'</span>) {
			<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'ToPropertyDescriptor requires an object'</span>);
		}

		<span class="hljs-keyword">var</span> desc = {};
		<span class="hljs-keyword">if</span> (has(Obj, <span class="hljs-string">'enumerable'</span>)) {
			desc[<span class="hljs-string">'[[Enumerable]]'</span>] = <span class="hljs-keyword">this</span>.ToBoolean(Obj.enumerable);
		}
		<span class="hljs-keyword">if</span> (has(Obj, <span class="hljs-string">'configurable'</span>)) {
			desc[<span class="hljs-string">'[[Configurable]]'</span>] = <span class="hljs-keyword">this</span>.ToBoolean(Obj.configurable);
		}
		<span class="hljs-keyword">if</span> (has(Obj, <span class="hljs-string">'value'</span>)) {
			desc[<span class="hljs-string">'[[Value]]'</span>] = Obj.value;
		}
		<span class="hljs-keyword">if</span> (has(Obj, <span class="hljs-string">'writable'</span>)) {
			desc[<span class="hljs-string">'[[Writable]]'</span>] = <span class="hljs-keyword">this</span>.ToBoolean(Obj.writable);
		}
		<span class="hljs-keyword">if</span> (has(Obj, <span class="hljs-string">'get'</span>)) {
			<span class="hljs-keyword">var</span> getter = Obj.get;
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> getter !== <span class="hljs-string">'undefined'</span> &amp;&amp; !<span class="hljs-keyword">this</span>.IsCallable(getter)) {
				<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'getter must be a function'</span>);
			}
			desc[<span class="hljs-string">'[[Get]]'</span>] = getter;
		}
		<span class="hljs-keyword">if</span> (has(Obj, <span class="hljs-string">'set'</span>)) {
			<span class="hljs-keyword">var</span> setter = Obj.set;
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> setter !== <span class="hljs-string">'undefined'</span> &amp;&amp; !<span class="hljs-keyword">this</span>.IsCallable(setter)) {
				<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'setter must be a function'</span>);
			}
			desc[<span class="hljs-string">'[[Set]]'</span>] = setter;
		}

		<span class="hljs-keyword">if</span> ((has(desc, <span class="hljs-string">'[[Get]]'</span>) || has(desc, <span class="hljs-string">'[[Set]]'</span>)) &amp;&amp; (has(desc, <span class="hljs-string">'[[Value]]'</span>) || has(desc, <span class="hljs-string">'[[Writable]]'</span>))) {
			<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'Invalid property descriptor. Cannot both specify accessors and a value or writable attribute'</span>);
		}
		<span class="hljs-keyword">return</span> desc;
	}
};

<span class="hljs-built_in">module</span>.exports = ES5;

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
